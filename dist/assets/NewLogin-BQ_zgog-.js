import{C as e,q as A,a6 as B,r as n,P as V,Q as P,W as I,Y as M,J as _,az as O,H as o,G as k,ab as G,a4 as v,T as R,I as F,ac as W}from"./index-Cn6BpmzD.js";import{a as Y,C as $,I as H,c as D,d as C,u as U,o as Q}from"./index.esm-DACLC0QB.js";import{d as q,a as z,G as J,C as K}from"./Company_6-DIhHiahP.js";import{I as Z}from"./createSvgIcon-CozT63G4.js";import{M as f}from"./ToggleSwitch-DDMNzmNG.js";import"./index-CoYJe8qp.js";import{x as L}from"./x-button-CT4dcaD-.js";import{e as X}from"./email-Bj3w0Esp.js";import"./Menu-Dfg4hKOa.js";import"./resolveComponentProps-Dx_4uLL5.js";import"./index-C2fvYQOM.js";const ee=({title:s})=>e.jsx("h1",{className:" font-bold text-2xl text-dark-blue text-center",children:s}),se=({subtitle:s})=>e.jsx("h3",{className:" text-[#98AEB5] text-center",children:s}),te=A(Y)({width:"100%","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(26,29,50,0.5)"},"&:hover fieldset":{borderColor:"rgb(8,165,170)"},"&.Mui-focused fieldset":{borderColor:"rgb(8,165,170)"},"&.Mui-error fieldset":{borderColor:"#f44336"}},"& .MuiInputLabel-root":{color:"rgba(26,29,50,0.5)"},"& .MuiInputLabel-root.Mui-focused":{color:"rgb(8,165,170)"},"& .MuiInputLabel-root.Mui-error":{color:"#f44336"}}),S=B.forwardRef(({name:s,control:c,label:t,defaultValue:m="",rules:r={},type:a,autoFocus:l,multiline:h},u)=>{const[x,p]=n.useState(!1),j=()=>{p(i=>!i)};return e.jsx($,{name:s,control:c,defaultValue:m,rules:r,render:({field:i,fieldState:{error:d}})=>e.jsx(te,{...i,inputRef:u,label:t,variant:"outlined",autoFocus:l,error:!!d,type:a==="password"&&x?"text":a,multiline:h&&!0,helperText:d?d.message:"",InputProps:{endAdornment:a==="password"&&e.jsx(H,{position:"end",children:e.jsx(Z,{"aria-label":"toggle password visibility",onClick:j,edge:"end",children:x?e.jsx(q,{}):e.jsx(z,{})})})}})})});function ae({onClose:s,show:c,onClick:t}){return e.jsx(e.Fragment,{children:e.jsxs(f,{show:c,onClose:s,children:[e.jsx(f.Header,{}),e.jsx(f.Body,{children:e.jsxs("div",{className:"flex flex-col gap-5 items-center",children:[e.jsx("img",{src:L,alt:"Error Icon",width:100,className:" max-sm:w-14"}),e.jsx("h1",{className:" font-bold text-3xl text-red-500 max-sm:text-xl",children:"Unverified Account"}),e.jsx("p",{className:"text-center text-dark-blue max-sm:text-base",children:"Your account is not verified. Please verify your email address."}),e.jsx("div",{className:" mt-5",children:e.jsx(V,{text:"Verify Account",onClick:t})})]})})]})})}function le({userEmail:s,onClose:c,show:t}){const[m,r]=n.useState(""),[a,l]=n.useState(!1),[h,u]=n.useState(!1),[x,p]=n.useState(!1);n.useEffect(()=>{let i;return a&&(i=setTimeout(()=>{r("")},3e3)),()=>clearTimeout(i)},[a]);const j=async()=>{p(!0),u(!1),l(!1);const i={email:s};try{const d=await P.post("users/resend-verification",i);l(!0),r("Success! Your confirmation email has been resent. Please check your inbox.")}catch(d){console.log(d),l(!1),u(!0),r("")}finally{p(!1)}};return n.useEffect(()=>{t&&j()},[t]),e.jsxs(f,{show:t,onClose:c,children:[e.jsx(f.Header,{children:a&&e.jsx("p",{className:"text-mansa-blue font-bold max-sm:text-base",children:m})}),e.jsx(f.Body,{children:e.jsxs("div",{className:"flex flex-col gap-5 items-center",children:[a||x?e.jsx("img",{src:X,alt:"Email icon",width:100,className:"max-sm:w-14"}):e.jsx("img",{src:L,alt:"Error Icon",width:100,className:"max-sm:w-14"}),e.jsx("h1",{className:"font-bold text-3xl text-dark-blue max-sm:text-xl",children:"Email Verification"}),x&&e.jsx("p",{className:"text-center text-dark-blue max-sm:text-base",children:"Processing..."}),a&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-center text-dark-blue max-sm:text-base",children:["We have sent an email to"," ",e.jsx("span",{className:"text-mansa-blue",children:s})," to confirm the validity of your email address. After receiving the email, please follow the link provided to complete your registration."]}),e.jsx("strong",{children:e.jsxs("p",{className:"text-center text-dark-blue max-sm:text-base mt-5",children:["If you do not see the email, please check your"," ",e.jsx("span",{className:" font-bold",children:"spam or junk folder"}),"."]})})]}),h&&e.jsx("p",{className:"text-center text-red-500 max-sm:text-base",children:"Unable to send the email. Please try again later."})]})}),(a||h)&&e.jsx(f.Footer,{children:e.jsxs("p",{className:"text-dark-blue text-center max-sm:text-base",children:["If you did not receive the email,"," ",e.jsx("span",{className:"text-mansa-blue font-semibold cursor-pointer hover:text-dark-blue",onClick:j,children:"Resend Verification mail"})]})})]})}const oe=()=>{const s=I(),{LoginWithGoogle:c}=M(),{t}=_(),m=O({onSuccess:async r=>{try{o.fire({title:t("google_login_processing"),text:t("google_login_processing_text"),allowOutsideClick:!1,didOpen:()=>{o.showLoading()}}),await c({tokenResponse:r}),o.close(),s("/alldashboards")}catch(a){o.close();let l=t("google_login_error_occurred");a.response&&a.response.data&&a.response.data.message&&(l=`${a.response.data.message}. ${t("google_retry")}`),a.response.data.message==="Account not found, Please Sign Up"?(l=t("google_sign_up_prompt"),o.fire({icon:"error",title:t("google_account_not_found"),text:l,confirmButtonText:t("google_sign_up")}).then(()=>s("/auth/sign_up"))):a.response.data.message==="Incorrect Password"?(l=t("google_incorrect_password_text"),o.fire({icon:"error",title:t("google_incorrect_password_title"),text:l,confirmButtonText:t("google_retry")})):o.fire({icon:"error",title:t("google_login_failed"),text:l,confirmButtonText:t("google_retry")}),console.error("Failed to login: ",a)}},onError:async r=>{console.log("Login failed ",r),o.fire({icon:"error",title:t("google_login_error"),text:t("google_failed_google_login"),confirmButtonText:t("google_retry")})}});return e.jsxs("div",{className:"google-sign-in-container",children:[e.jsxs("div",{className:"separator",children:[e.jsx("hr",{className:"line"}),e.jsx("span",{className:"or-text",children:t("google_or")}),e.jsx("hr",{className:"line"})]}),e.jsxs("button",{className:"google-button",onClick:()=>m(),children:[e.jsx("img",{src:J,alt:"Google Logo",className:"w-8 h-8"}),e.jsx("span",{className:"text-dark-blue font-semibold",children:t("google_sign_in_with_google")})]})]})},re=D().shape({email:C().email("Invalid email").required("Please enter your email.").max(255,"Email must be less than 255 characters"),password:C().required("Please enter your password.")}),{palette:ie}=k(),{augmentColor:ne}=ie,ce=s=>ne({color:{main:s}}),me=k({palette:{mainColor:ce("#08a5aa")}}),de=()=>{const{t:s}=_(),{login:c}=M(),[t,m]=n.useState(!1),[r,a]=n.useState(!1),[l,h]=n.useState(""),[u,x]=n.useState(!1),p=I(),{handleSubmit:j,control:i,formState:{errors:d},reset:w}=U({resolver:Q(re),defaultValues:{email:"",password:""}}),N=()=>{m(!1)},T=()=>{a(!1),w()},E=async y=>{x(!0);try{o.fire({title:s("login_logging_in"),text:s("login_logging_in_text"),allowOutsideClick:!1,didOpen:()=>{o.showLoading()}}),h(y.email),await c(y);const g=localStorage.getItem("user"),b=JSON.parse(g);o.close(),b.isVerified===!1||b.isVerified===null?m(!0):p("/alldashboards"),w()}catch(g){o.close();let b=s("login_error_occurred");g.response&&g.response.data&&g.response.data.message&&(b=g.response.data.message),o.fire({icon:"error",title:s("login_submission_failed"),text:`${b}. ${s("login_try_again")}`,confirmButtonText:s("login_retry")}),console.error("Failed to login: ",g)}finally{x(!1)}};return e.jsx("div",{className:"bg-white w-full h-full min-h-screen max-lg:min-h-fit flex justify-center pb-8",children:e.jsxs("div",{className:" w-full max-md:w-[80%] max-sm:w-full max-lg:w-[50%] h-full p-5 flex flex-col gap-3",children:[e.jsx("a",{href:"https://relations.mansastars.com/",className:" self-center",children:e.jsx("img",{src:G,alt:"Mansa Logo",className:" h-20"})}),e.jsxs("div",{className:" flex flex-col gap-2",children:[e.jsx(ee,{title:s("login_title")}),e.jsx(se,{subtitle:s("login_subtitle")})]}),e.jsxs("form",{onSubmit:j(E),className:" flex flex-col gap-5 px-2 mt-5 max-md:px-0 max-md:mt-2",children:[e.jsx(S,{name:"email",control:i,error:d.email,label:s("login_email_label"),autoFocus:!0}),e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx(S,{name:"password",control:i,error:d.first_name,label:s("login_password_label"),type:"password"}),e.jsx(v,{to:"/verify_email",className:" text-sm text-mansa-blue hover:text-dark-blue self-end",children:e.jsx("u",{children:s("login_forgot_password")})})]}),e.jsx(R,{theme:me,children:e.jsx(F,{variant:"contained",className:" w-full",color:"mainColor",type:"submit",disabled:u,children:s(u?"login_button_loading":"login_button")})})]}),e.jsx("div",{className:" w-full px-2",children:e.jsx(oe,{})}),e.jsx("div",{className:" self-center mt-3",children:e.jsxs("span",{children:[s("login_no_account")," ",e.jsx(v,{to:"/auth/sign_up",className:" text-mansa-blue hover:text-dark-blue",children:e.jsx("u",{children:s("login_register")})})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(W,{})}),m&&e.jsx(ae,{onClose:N,show:t,onClick:()=>{N(),a(!0)}}),a&&e.jsx(le,{onClose:T,show:r,userEmail:l})]})})},xe="/assets/WebsiteShareImage-CG0zGbV_.jpeg",ue=()=>{const{t:s}=_();return e.jsx("div",{className:"bg-[rgba(8,165,170,0.2)] w-full h-full min-h-screen max-lg:min-h-fit flex flex-col justify-center p-8 max-sm:p-3",children:e.jsxs("div",{className:" glassmorphism w-full h-fit p-5 max-sm:p-2",children:[e.jsx("img",{src:xe,alt:"Dashboard",className:"rounded-t-lg "}),e.jsxs("div",{className:" bg-white px-5 py-10 rounded-b-lg",children:[e.jsx("div",{children:e.jsx("h3",{className:" text-2xl max-sm:text-lg font-semibold text-center mb-10 mt-5",children:s("trusted_by_fund_managers")})}),e.jsxs("div",{className:" flex flex-wrap items-center justify-center w-full gap-5",children:[e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:"https://centuryoakventures.com/wp-content/uploads/2024/02/COV-Logo.svg",alt:"Trusted Company 1"})}),e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQHtlhjG5szJKA/company-logo_200_200/0/1631335017074?e=1728518400&v=beta&t=YD3rRaTw8W38CAx3tPOFW4aPZ8IvGcBy-tBbCY4OOrk",alt:"Trusted Company 2"})}),e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:"https://assets-global.website-files.com/64217dee51bd3f4b49be943f/64218814dc531adc96a0e9ba_MT%20Logo.webp",alt:"Trusted Company 3"})}),e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:"https://media.licdn.com/dms/image/C560BAQHpEkHODoMiLw/company-logo_200_200/0/1664218436549/lvlup_vc_logo?e=1728518400&v=beta&t=AYc9MAyTBhix2R5RtezF2IEu23eKRWJVokW2b8dthVE",alt:"Trusted Company 4"})}),e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:"https://media.licdn.com/dms/image/C560BAQGRla1tM3Q9yw/company-logo_200_200/0/1630609388366/tlcom_capital_partners_logo?e=1728518400&v=beta&t=si48pU6SIU4coH2tYOlaAttYi1bwaWpvAOoqVbKR-L4",alt:"Trusted Company 5"})}),e.jsx("div",{className:" w-20 h-12 flex items-center justify-center",children:e.jsx("img",{src:K,alt:"Trusted Company 6",className:""})})]})]})]})})},ge=()=>e.jsxs("div",{className:"flex w-full max-lg:flex-col",children:[e.jsx("div",{className:"w-full lg:w-2/5",children:e.jsx(de,{})}),e.jsx("div",{className:" w-full lg:w-3/5",children:e.jsx(ue,{})})]}),Se=()=>e.jsx("div",{className:" w-full h-full",children:e.jsx(ge,{})});export{Se as default};
