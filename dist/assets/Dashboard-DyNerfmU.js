import{r as l,j as e,a as w,u as V,$ as z,S as D,b as q}from"./index-CdcmEy-k.js";import{F as M,a as P,b as H,D as L,c as K,d as X,B as T,e as F}from"./Reusables-vmaUGnmQ.js";import{X as W,S as J}from"./SidePanel-BQE7iuDV.js";import{X as I}from"./x-circle-ClspntFC.js";import{F as Q}from"./FreeTrialBanner-C86glc8f.js";/* empty css              */import"./createLucideIcon-BnOggqer.js";function Z({onClose:d}){const u=l.useRef(),p=f=>{u.current===f.target&&d()},[r,b]=l.useState({title:"",firstName:"",lastName:"",company:"",dealSize:0,email:"",phoneNumber:"",notes:"",currentStage:"",datetime:""}),[y,m]=l.useState(""),[h,N]=l.useState(""),[C,x]=l.useState(!1),[j,i]=l.useState(""),_=f=>{i(f)},g=f=>{if(f&&f.target){const{name:S,value:t}=f.target;b(a=>({...a,[S]:t}))}},v=async f=>{f.preventDefault();const S=localStorage.getItem("currentDealId");if(!S){console.error("Deal ID not found in localStorage");return}let t;r.datetime&&(t=new Date(r.datetime).toISOString());const a={deal_id:S,title:r.title,first_name:r.firstName,last_name:r.lastName,organization_name:r.company,deal_size:r.dealSize,email:r.email,phone_number:j,stage:r.currentStage,meeting_date:t,notes:r.notes};try{const n=await w.post(`/deals/create-contact/${S}`,a);console.log(n),m("Contact created successfully."),window.location.reload(),N(""),b({title:"",firstName:"",lastName:"",company:"",dealSize:0,email:"",phoneNumber:"",notes:"",currentStage:"",datetime:""}),setTimeout(()=>{x(!1),m(""),d()},2e3)}catch(n){console.log(n),N("Something went wrong. Please try again."),m(""),x(!1)}};return e.jsx("div",{ref:u,onClick:p,className:" fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5 w-full",children:[e.jsx("button",{onClick:d,className:" mr-20 max-sm:mr-10 self-end text-dark-blue",children:e.jsx(W,{size:30})}),e.jsxs("div",{className:" bg-white rounded-xl px-20 max-md:px-5 py-10 flex flex-col gap-7 items-center mx-20 max-md:mx-10",children:[e.jsx("h1",{className:" text-dark-blue text-3xl max-md:text-2xl max-sm:text-xl font-extrabold",children:"Add a new contact to your pipeline"}),e.jsxs("form",{action:"",onSubmit:v,className:" flex flex-col gap-5 w-full",children:[y&&e.jsx("p",{className:" text-mansa-blue font-semibold",children:y}),h&&e.jsx("p",{className:" text-[#ff0000] font-semibold",children:h}),e.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[e.jsxs("div",{className:" flex flex-row flex-wrap gap-5 justify-center max-md:justify-start",children:[e.jsx(M,{type:"text",title:"Title",placeholder:"Mr./Mrs./Ms./Dr./Engr.",id:"title",value:r.title,onChange:g}),e.jsx(P,{type:"text",title:"First Name*",placeholder:"Sundi",id:"firstName",value:r.firstName,onChange:g}),e.jsx(P,{type:"text",title:"Last Name*",placeholder:"Keita",id:"lastName",value:r.lastName,onChange:g})]}),e.jsxs("div",{className:" flex flex-row flex-wrap gap-x-5 gap-y-8 justify-center max-md:justify-start",children:[e.jsx(M,{type:"text",title:"Company",placeholder:"Mansa, LLC",id:"company",value:r.company,onChange:g}),e.jsx(M,{type:"number",title:"Deal Size ($)",placeholder:"1,000,000",id:"dealSize",min:0,value:r.dealSize,onChange:g}),e.jsx(M,{type:"email",title:"Contact Email",placeholder:"sundi@sankore.com",id:"email",value:r.email,onChange:g}),e.jsx(H,{title:"Phone Number",placeholder:"+123456789",id:"phoneNumber",value:r.phoneNumber,onChange:_}),e.jsx(L,{label:"Current Stage",id:"currentStage",value:r.currentStage,onChange:g}),e.jsx(K,{title:"Meeting Date",value:r.datetime,onChange:g})]}),e.jsx("div",{children:e.jsx(X,{value:r.notes,onChange:g})})]}),e.jsx("div",{className:" mt-8 w-full flex items-center justify-center",children:e.jsx(T,{type:"submit",disabled:C,text:"Create Contact"})})]})]})]})})}function B({titles:d,titleColors:u,contents:p}){const r=F("shadow-lg","rounded-2xl","w-full"),b={color:u,minWidth:"165px"},y={backgroundColor:"rgb(255, 255, 255)"};return e.jsxs("div",{className:" flex flex-col gap-5 items-center w-full ",style:{maxWidth:"calc(100% - 224px)"},children:[e.jsx("div",{className:r,style:y,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center w-full ",style:b,children:d})}),e.jsx("div",{className:" w-full overflow-x-hidden",style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:p})]})}function k({onClose:d,contactDetails:u}){const[p,r]=l.useState(""),[b,y]=l.useState(""),[m,h]=l.useState(!1),N=l.useRef(),C=a=>{N.current===a.target&&d()},x=a=>{if(a&&a.target){const{name:n,value:E}=a.target;_(s=>({...s,[n]:E}))}},j=a=>a?new Date(a).toISOString().slice(0,16):"",[i,_]=l.useState({title:u.title,first_name:u.first_name,last_name:u.last_name,organization_name:u.organization_name,deal_size:u.deal_size,email:u.email,phone_number:u.phone_number,stage:u.stage,datetime:j(u.meeting_date),notes:u.notes}),[g,v]=l.useState(i.phone_number),f=a=>{v(a)};console.log(i);let S;i.datetime&&(S=new Date(i.datetime).toISOString());const t=async a=>{a.preventDefault();const n=localStorage.getItem("currentDealId");if(!n){console.error("Deal ID not found in localStorage");return}const s={userId:localStorage.getItem("user").id,title:i.title,first_name:i.first_name,last_name:i.last_name,organization_name:i.organization_name,deal_size:i.deal_size,email:i.email,phone_number:g,stage:i.stage,meeting_date:S,notes:i.notes};try{await w.patch(`deals/edit-contact/${n}/${u.id}`,s),r("Contact updated successfully."),y(""),setTimeout(()=>{h(!1),r(""),d(),window.location.reload()},2e3)}catch(o){console.log(o),y("Something went wrong. Please try again."),r(""),h(!1)}};return e.jsx("div",{ref:N,onClick:C,className:"fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5",children:[e.jsx("button",{onClick:d,className:"mr-20 max-md:mr-10 self-end text-dark-blue",children:e.jsx(W,{size:30})}),e.jsxs("div",{className:"bg-white rounded-xl px-20 max-md:px-5 py-10 flex flex-col gap-7 items-center mx-20 max-md:mx-10",children:[e.jsx("h1",{className:"text-dark-blue text-3xl max-md:text-2xl max-sm:text-xl font-extrabold",children:"Edit Contact Details"}),e.jsxs("form",{action:"",onSubmit:t,className:"flex flex-col gap-5",children:[p&&e.jsx("p",{className:"text-mansa-blue font-semibold",children:p}),b&&e.jsx("p",{className:"text-[#ff0000] font-semibold",children:b}),e.jsxs("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5 w-full",children:[e.jsx(M,{type:"text",title:"Title",placeholder:"Mr./Mrs./Ms./Dr./Engr.",id:"title",value:i.title,onChange:x}),e.jsx(M,{type:"text",title:"First Name",placeholder:"Sundi",id:"first_name",value:i.first_name,onChange:x}),e.jsx(M,{type:"text",title:"Last Name",placeholder:"Keita",id:"last_name",value:i.last_name,onChange:x}),e.jsx(M,{type:"text",title:"Company",placeholder:"Mansa, LLC",id:"organization_name",value:i.organization_name,onChange:x}),e.jsx(M,{type:"number",title:"Deal Size ($)",placeholder:"1,000,000",id:"deal_size",min:0,value:i.deal_size,onChange:x}),e.jsx(M,{type:"email",title:"Contact Email",placeholder:"sundi@sankore.com",id:"email",value:i.email,onChange:x}),e.jsx(H,{title:"Phone Number",placeholder:"+123456789",id:"phoneNumber",value:i.phone_number,onChange:f}),e.jsx(L,{label:"Current Stage",id:"stage",value:i.stage,onChange:x}),e.jsx(K,{title:"Meeting Date",value:i.datetime,onChange:x})]}),e.jsx("div",{children:e.jsx(X,{value:i.notes,onChange:x})}),e.jsx("div",{className:"mt-8 w-full flex items-center justify-center",children:e.jsx(T,{type:"submit",disabled:m,text:"Update Contact"})})]})]})]})})}const $=d=>d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function A({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(V(),l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/research-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},g=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},v=()=>{x(!1),i(null)},f=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,S=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{onDoubleClick:()=>g(t.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},title:"Double click to edit contact",children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>_(t.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?f(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?S(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:v,contactDetails:j})]})}function O({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/contacted-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},g=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},v=()=>{x(!1),i(null)},f=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,S=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{title:"Double click to edit contact",onDoubleClick:()=>g(t.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>_(t.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?f(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?S(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:v,contactDetails:j})]})}function R({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/pitch-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,g=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")},v=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},f=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},S=()=>{x(!1),i(null)};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{onDoubleClick:()=>f(t.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>v(t.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?_(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?g(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:S,contactDetails:j})]})}function U({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/negotiation-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},g=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},v=()=>{x(!1),i(null)},f=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,S=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{onDoubleClick:()=>g(t.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>_(t.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?f(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?S(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:v,contactDetails:j})]})}function G({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/deal-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,g=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},v=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")},f=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},S=()=>{x(!1),i(null)};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{onDoubleClick:()=>f(t.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl max-w-34 mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>g(t.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?_(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?v(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:S,contactDetails:j})]})}function ee({borderColour:d}){const u=localStorage.getItem("currentDealId"),p={border:`2px solid  ${d}`},[r,b]=l.useState([]),[y,m]=l.useState(!0),[h,N]=l.useState(null),[C,x]=l.useState(!1),[j,i]=l.useState(null);if(l.useEffect(()=>{(async()=>{const a=localStorage.getItem("currentDealId");if(!a){console.error("Deal ID not found in localStorage");return}try{const n=await w.get(`deals/rejection-contacts/${a}`);b(n.data.data),m(!1)}catch(n){N(n),m(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(h)return e.jsxs("div",{children:["Error: ",h.message]});const _=async t=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async a=>{if(a.isConfirmed)try{await w.delete(`contacts/delete-contact/${u}/${t}`),b(r.filter(n=>n.id!==t)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(n){console.error("Error:",n),D.fire("Error","Failed to delete contact","error")}})},g=async t=>{try{const n=(await w.get(`contacts/single-contact/${u}/${t}`)).data.contact;i(n),x(!0)}catch(a){console.error("Error fetching contact details:",a)}},v=()=>{x(!1),i(null)},f=(t,a)=>t.length<=a?t:`${t.substring(0,a-3)}...`,S=(t,a)=>{const n=t.replace(/\D/g,"");return n.length<=a?t:"+"+(n.substring(0,a-1)+"...")};return e.jsxs(e.Fragment,{children:[r.length===0?e.jsx("div",{}):r.map(t=>e.jsxs("div",{onDoubleClick:()=>g(t.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...p,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${t.first_name} ${t.last_name}`.length>13?`${t.first_name} ${t.last_name}`.substring(0,10)+"...":`${t.first_name} ${t.last_name}`}),e.jsx("button",{onClick:()=>_(t.id),className:"text-white cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:t.organization_name?t.organization_name.length>15?t.organization_name.substring(0,15)+"...":t.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",t.deal_size?t.deal_size.length>15?"$"+$(t.deal_size.substring(0,15))+"...":"$"+$(t.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",t.meeting_date?new Date(t.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:t.email?f(t.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:t.phone_number?S(t.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:t.notes.length>20?t.notes.substring(0,20)+"...":t.notes})})]})]},t.id)),C&&j&&e.jsx(k,{onClose:v,contactDetails:j})]})}function te({borderColour:d,titleColors:u}){const p=localStorage.getItem("currentDealId"),r={border:`2px solid  ${d}`},b=F("shadow-lg","rounded-2xl","w-full"),y={color:u,minWidth:"165px"},m={backgroundColor:"rgb(255, 255, 255)"},[h,N]=l.useState([]),[C,x]=l.useState(!0),[j,i]=l.useState(null),[_,g]=l.useState(!1),[v,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{const o=localStorage.getItem("currentDealId");if(!o){console.error("Deal ID not found in localStorage");return}try{const c=await w.get(`deals/prospect-contacts/${o}`);N(c.data.data),x(!1)}catch(c){i(c),x(!1)}})()},[]),C)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const S=async s=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async o=>{if(o.isConfirmed)try{await w.delete(`contacts/delete-contact/${p}/${s}`),N(h.filter(c=>c.id!==s)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(c){console.error("Error:",c),D.fire("Error","Failed to delete contact","error")}})},t=async s=>{try{const c=(await w.get(`contacts/single-contact/${p}/${s}`)).data.contact;f(c),g(!0)}catch(o){console.error("Error fetching contact details:",o)}},a=()=>{g(!1),f(null)},n=(s,o)=>s.length<=o?s:`${s.substring(0,o-3)}...`,E=(s,o)=>{const c=s.replace(/\D/g,"");return c.length<=o?s:"+"+(c.substring(0,o-1)+"...")};return e.jsxs(e.Fragment,{children:[h.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:b,style:m,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Prospect"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:h.map(s=>e.jsxs("div",{onDoubleClick:()=>t(s.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...r,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${s.first_name} ${s.last_name}`.length>13?`${s.first_name} ${s.last_name}`.substring(0,10)+"...":`${s.first_name} ${s.last_name}`}),e.jsx("button",{onClick:()=>S(s.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:s.organization_name?s.organization_name.length>15?s.organization_name.substring(0,15)+"...":s.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",s.deal_size?s.deal_size.length>15?"$"+$(s.deal_size.substring(0,15))+"...":"$"+$(s.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",s.meeting_date?new Date(s.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:s.email?n(s.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:s.phone_number?E(s.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:s.notes.length>20?s.notes.substring(0,20)+"...":s.notes})})]})]},s.id))})]}):null,_&&v&&e.jsx(k,{onClose:a,contactDetails:v})]})}function se({borderColour:d,titleColors:u}){const p=localStorage.getItem("currentDealId"),r={border:`2px solid  ${d}`},b=F("shadow-lg","rounded-2xl","w-full"),y={color:u,minWidth:"165px"},m={backgroundColor:"rgb(255, 255, 255)"},[h,N]=l.useState([]),[C,x]=l.useState(!0),[j,i]=l.useState(null),[_,g]=l.useState(!1),[v,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{const o=localStorage.getItem("currentDealId");if(!o){console.error("Deal ID not found in localStorage");return}try{const c=await w.get(`deals/review-contacts/${o}`);N(c.data.data),x(!1)}catch(c){i(c),x(!1)}})()},[]),C)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const S=async s=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async o=>{if(o.isConfirmed)try{await w.delete(`contacts/delete-contact/${p}/${s}`),N(h.filter(c=>c.id!==s)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(c){console.error("Error:",c),D.fire("Error","Failed to delete contact","error")}})},t=(s,o)=>s.length<=o?s:`${s.substring(0,o-3)}...`,a=async s=>{try{const c=(await w.get(`contacts/single-contact/${p}/${s}`)).data.contact;f(c),g(!0)}catch(o){console.error("Error fetching contact details:",o)}},n=()=>{g(!1),f(null)},E=(s,o)=>{const c=s.replace(/\D/g,"");return c.length<=o?s:"+"+(c.substring(0,o-1)+"...")};return e.jsxs(e.Fragment,{children:[h.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:b,style:m,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Review"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:h.map(s=>e.jsxs("div",{title:"Double click to edit contact",onDoubleClick:()=>a(s.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer ",style:{...r,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${s.first_name} ${s.last_name}`.length>13?`${s.first_name} ${s.last_name}`.substring(0,10)+"...":`${s.first_name} ${s.last_name}`}),e.jsx("button",{onClick:()=>S(s.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:s.organization_name?s.organization_name.length>15?s.organization_name.substring(0,15)+"...":s.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",s.deal_size?s.deal_size.length>15?"$"+$(s.deal_size.substring(0,15))+"...":"$"+$(s.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",s.meeting_date?new Date(s.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:s.email?t(s.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:s.phone_number?E(s.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:s.notes.length>20?s.notes.substring(0,20)+"...":s.notes})})]})]},s.id))})]}):null,_&&v&&e.jsx(k,{onClose:n,contactDetails:v})]})}function ae({borderColour:d,titleColors:u}){const p=localStorage.getItem("currentDealId"),r={border:`2px solid  ${d}`},b=F("shadow-lg","rounded-2xl","w-full"),y={color:u,minWidth:"165px"},m={backgroundColor:"rgb(255, 255, 255)"},[h,N]=l.useState([]),[C,x]=l.useState(!0),[j,i]=l.useState(null),[_,g]=l.useState(!1),[v,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{const o=localStorage.getItem("currentDealId");if(!o){console.error("Deal ID not found in localStorage");return}try{const c=await w.get(`deals/partner-contacts/${o}`);N(c.data.data),x(!1)}catch(c){i(c),x(!1)}})()},[]),C)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const S=async s=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async o=>{if(o.isConfirmed)try{await w.delete(`contacts/delete-contact/${p}/${s}`),N(h.filter(c=>c.id!==s)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(c){console.error("Error:",c),D.fire("Error","Failed to delete contact","error")}})},t=async s=>{try{const c=(await w.get(`contacts/single-contact/${p}/${s}`)).data.contact;f(c),g(!0)}catch(o){console.error("Error fetching contact details:",o)}},a=()=>{g(!1),f(null)},n=(s,o)=>s.length<=o?s:`${s.substring(0,o-3)}...`,E=(s,o)=>{const c=s.replace(/\D/g,"");return c.length<=o?s:"+"+(c.substring(0,o-1)+"...")};return e.jsxs(e.Fragment,{children:[h.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:b,style:m,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Partner"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:h.map(s=>e.jsxs("div",{onDoubleClick:()=>t(s.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...r,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${s.first_name} ${s.last_name}`.length>13?`${s.first_name} ${s.last_name}`.substring(0,10)+"...":`${s.first_name} ${s.last_name}`}),e.jsx("button",{onClick:()=>S(s.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:s.organization_name?s.organization_name.length>15?s.organization_name.substring(0,15)+"...":s.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",s.deal_size?s.deal_size.length>15?"$"+$(s.deal_size.substring(0,15))+"...":"$"+$(s.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",s.meeting_date?new Date(s.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:s.email?n(s.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:s.phone_number?E(s.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:s.notes.length>20?s.notes.substring(0,20)+"...":s.notes})})]})]},s.id))})]}):null,_&&v&&e.jsx(k,{onClose:a,contactDetails:v})]})}function ne({borderColour:d,titleColors:u}){const p=localStorage.getItem("currentDealId"),r={border:`2px solid  ${d}`},b=F("shadow-lg","rounded-2xl","w-full"),y={color:u,minWidth:"165px"},m={backgroundColor:"rgb(255, 255, 255)"},[h,N]=l.useState([]),[C,x]=l.useState(!0),[j,i]=l.useState(null),[_,g]=l.useState(!1),[v,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{const o=localStorage.getItem("currentDealId");if(!o){console.error("Deal ID not found in localStorage");return}try{const c=await w.get(`deals/offer-contacts/${o}`);N(c.data.data),x(!1)}catch(c){i(c),x(!1)}})()},[]),C)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const S=async s=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async o=>{if(o.isConfirmed)try{await w.delete(`contacts/delete-contact/${p}/${s}`),N(h.filter(c=>c.id!==s)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(c){console.error("Error:",c),D.fire("Error","Failed to delete contact","error")}})},t=async s=>{try{const c=(await w.get(`contacts/single-contact/${p}/${s}`)).data.contact;f(c),g(!0)}catch(o){console.error("Error fetching contact details:",o)}},a=()=>{g(!1),f(null)},n=(s,o)=>s.length<=o?s:`${s.substring(0,o-3)}...`,E=(s,o)=>{const c=s.replace(/\D/g,"");return c.length<=o?s:"+"+(c.substring(0,o-1)+"...")};return e.jsxs(e.Fragment,{children:[h.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:b,style:m,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Term Sheet"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:h.map(s=>e.jsxs("div",{onDoubleClick:()=>t(s.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...r,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${s.first_name} ${s.last_name}`.length>13?`${s.first_name} ${s.last_name}`.substring(0,10)+"...":`${s.first_name} ${s.last_name}`}),e.jsx("button",{onClick:()=>S(s.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:s.organization_name?s.organization_name.length>15?s.organization_name.substring(0,15)+"...":s.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",s.deal_size?s.deal_size.length>15?"$"+$(s.deal_size.substring(0,15))+"...":"$"+$(s.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",s.meeting_date?new Date(s.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:s.email?n(s.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:s.phone_number?E(s.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:s.notes.length>20?s.notes.substring(0,20)+"...":s.notes})})]})]},s.id))})]}):null,_&&v&&e.jsx(k,{onClose:a,contactDetails:v})]})}function le({borderColour:d,titleColors:u}){const p=localStorage.getItem("currentDealId"),r={border:`2px solid  ${d}`},b=F("shadow-lg","rounded-2xl","w-full"),y={color:u,minWidth:"165px"},m={backgroundColor:"rgb(255, 255, 255)"},[h,N]=l.useState([]),[C,x]=l.useState(!0),[j,i]=l.useState(null),[_,g]=l.useState(!1),[v,f]=l.useState(null);if(l.useEffect(()=>{(async()=>{const o=localStorage.getItem("currentDealId");if(!o){console.error("Deal ID not found in localStorage");return}try{const c=await w.get(`deals/followup-contacts/${o}`);N(c.data.data),x(!1)}catch(c){i(c),x(!1)}})()},[]),C)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(z,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const S=async s=>{D.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async o=>{if(o.isConfirmed)try{await w.delete(`contacts/delete-contact/${p}/${s}`),N(h.filter(c=>c.id!==s)),D.fire("Deleted!","Your contact entry has been deleted.","success")}catch(c){console.error("Error:",c),D.fire("Error","Failed to delete contact","error")}})},t=async s=>{try{const c=(await w.get(`contacts/single-contact/${p}/${s}`)).data.contact;f(c),g(!0)}catch(o){console.error("Error fetching contact details:",o)}},a=()=>{g(!1),f(null)},n=(s,o)=>s.length<=o?s:`${s.substring(0,o-3)}...`,E=(s,o)=>{const c=s.replace(/\D/g,"");return c.length<=o?s:"+"+(c.substring(0,o-1)+"...")};return e.jsxs(e.Fragment,{children:[h.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:b,style:m,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Follow-up"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:h.map(s=>e.jsxs("div",{onDoubleClick:()=>t(s.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...r,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:d},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${s.first_name} ${s.last_name}`.length>13?`${s.first_name} ${s.last_name}`.substring(0,10)+"...":`${s.first_name} ${s.last_name}`}),e.jsx("button",{onClick:()=>S(s.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:s.organization_name?s.organization_name.length>13?s.organization_name.substring(0,10)+"...":s.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",s.deal_size?s.deal_size.length>15?"$"+$(s.deal_size.substring(0,15))+"...":"$"+$(s.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",s.meeting_date?new Date(s.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:s.email?n(s.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:s.phone_number?E(s.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:s.notes.length>20?s.notes.substring(0,20)+"...":s.notes})})]})]},s.id))})]}):null,_&&v&&e.jsx(k,{onClose:a,contactDetails:v})]})}const re=()=>{const d=e.jsx(A,{borderColour:"rgb(0, 0, 139)"}),u=e.jsx(O,{borderColour:"#87CEEB"}),p=e.jsx(R,{borderColour:"#08a5aa"}),r=e.jsx(U,{borderColour:"orange"}),b=e.jsx(G,{borderColour:"green"}),y=e.jsx(ee,{borderColour:"#FF0000"});return e.jsxs("div",{className:"flex gap-2 pb-10 w-full overflow-y-auto overflow-x-auto",children:[e.jsx(B,{titles:"Research",titleColors:"rgb(0, 0, 139)",contents:d}),e.jsx(te,{borderColour:"rgb(115, 147, 179)",titleColors:"rgb(115, 147, 179)"}),e.jsx(B,{titles:"Contacted",titleColors:"#87CEEB",contents:u}),e.jsx(B,{titles:"Pitch",titleColors:"#08a5aa",contents:p}),e.jsx(se,{borderColour:"#FDDC5C",titleColors:"#FDDC5C"}),e.jsx(ae,{borderColour:"#E67451",titleColors:"#E67451"}),e.jsx(ne,{titleColors:"#000000",borderColour:"#000000"}),e.jsx(B,{titles:"Negotiation",titleColors:"orange",contents:r}),e.jsx(B,{titles:"Deal",titleColors:"green",contents:b}),e.jsx(le,{borderColour:"#D3D3D3",titleColors:"#D3D3D3"}),e.jsx(B,{titles:"Not a Fit",titleColors:"#FF0000",contents:y})]})};function oe({onClose:d}){const u=l.useRef(),p=_=>{u.current===_.target&&d()},[r,b]=l.useState({firstName:"",lastName:"",moveContact:""}),[y,m]=l.useState(""),[h,N]=l.useState(""),[C,x]=l.useState(!1),j=_=>{if(_&&_.target){const{name:g,value:v}=_.target;b(f=>({...f,[g]:v}))}},i=async _=>{_.preventDefault();const g=localStorage.getItem("currentDealId");if(!g){console.error("Deal ID not found in localStorage");return}const v={first_name:r.firstName,last_name:r.lastName,stage:r.moveContact};try{const f=await w.patch(`/deals/change-stage/${g}`,v);console.log(f),m("Contact moved successfully."),window.location.reload(),N(""),b({firstName:"",lastName:"",moveContact:""}),setTimeout(()=>{x(!1),m(""),d()},2e3)}catch(f){console.log(f),N("Something went wrong. Please try again."),m(""),x(!1)}};return e.jsx("div",{ref:u,onClick:p,className:" fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5",children:[e.jsx("button",{onClick:d,className:" place-self-end text-dark-blue",children:e.jsx(W,{size:30})}),e.jsxs("div",{className:" bg-white rounded-xl px-20 py-10 flex flex-col gap-7 items-center mx-4",children:[e.jsx("h1",{className:" text-dark-blue text-3xl font-extrabold",children:"Move contacts within your pipeline"}),e.jsxs("form",{action:"",onSubmit:i,className:" flex flex-col gap-5",children:[y&&e.jsx("p",{className:" text-mansa-blue font-semibold",children:y}),h&&e.jsx("p",{className:" text-[#ff0000] font-semibold",children:h}),e.jsxs("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5",children:[e.jsx(P,{type:"text",title:"First Name*",placeholder:"Sundi",id:"firstName",value:r.firstName,onChange:j}),e.jsx(P,{type:"text",title:"Last Name*",placeholder:"Keita",id:"lastName",value:r.lastName,onChange:j})]}),e.jsx("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5",children:e.jsx(L,{label:"Move Contact To",id:"moveContact",value:r.moveContact,onChange:j})}),e.jsx("div",{className:" mt-8 w-full flex items-center justify-center",children:e.jsx(T,{type:"submit",disabled:C,text:"Move Contact"})})]})]})]})})}function fe(){const d=V(),{isAuthenticated:u}=q(),[p,r]=l.useState(!1),[b,y]=l.useState(!1),[m,h]=l.useState([]),N=localStorage.getItem("currentDealId");return l.useEffect(()=>{(async()=>{if(N)try{const j=(await w.get(`deals/single-deal/${N}`)).data.deal;h(j)}catch(x){console.error("Error fetching a single deal:",x)}else console.error("Current deal ID not found in localStorage")})()},[N]),l.useEffect(()=>{u||d("/auth/login")},[u,d]),e.jsxs("div",{children:[e.jsx("div",{className:" sticky top-0 z-50",children:e.jsx(Q,{})}),e.jsxs("div",{className:" flex gap-3 h-screen",children:[e.jsx("div",{className:"",children:e.jsx(J,{})}),e.jsxs("div",{className:" flex flex-col gap-2 w-full mr-2 overflow-auto",children:[e.jsxs("div",{className:" flex pt-2 items-center gap-4",children:[e.jsx("div",{onClick:()=>r(!0),className:"flex",children:e.jsx(T,{text:"Add a New Contact"})}),e.jsx("div",{onClick:()=>y(!0),className:"flex",children:e.jsx(T,{text:"Move a Contact"})})]}),e.jsxs("div",{className:" flex flex-row w-full items-center",children:[e.jsx("div",{className:" bg-dark-blue text-white font-bold text-2xl py-6 rounded-l-xl w-[40%] text-center",children:m&&m.deal_name&&m.deal_name.length>15?`${m.deal_name.substring(0,15)}...`:m&&m.deal_name}),e.jsxs("div",{className:" flex flex-col w-[60%]",children:[e.jsxs("div",{className:" bg-mansa-blue text-white py-2 text-center rounded-tr-xl",children:["Deal Size Amount: ",e.jsxs("span",{className:" font-semibold",children:["$",m.deal_size?$(m.deal_size):"0"]})]}),e.jsxs("div",{className:" flex flex-row  ",children:[e.jsxs("div",{className:" bg-[orange] text-white w-1/2 max-md:w-full py-2 pl-5",children:["In-Negotiation Value: ",e.jsxs("span",{className:" font-semibold",children:["$",m.negotiation_value?$(m.negotiation_value):"0"]})]}),e.jsxs("div",{className:" bg-[green] text-white w-1/2 max-md:w-full py-2 pl-5 rounded-br-xl",children:["Deal Signed Value: ",e.jsxs("span",{className:" font-semibold",children:["$",m.signed_value?$(m.signed_value):"0"]})]})]})]})]}),e.jsx(re,{})]}),p&&e.jsx(Z,{onClose:()=>r(!1)}),b&&e.jsx(oe,{onClose:()=>y(!1)})]})]})}export{fe as default};
