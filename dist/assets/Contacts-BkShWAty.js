import{j as m,S as be,a as vt,_ as Fe,d as Se,e as nt,f as it,r as O,R as Lt,g as Pt,h as Mt,u as zt,b as Nt}from"./index-BoNr5YXl.js";import{F as Ut}from"./FreeTrialBanner-DkcVofVe.js";import{S as Bt}from"./SidePanel-kcIjy1db.js";import{B as yt,P as z,f as Re}from"./Reusables-TmYy2U2p.js";import{G as Ht,T as oe,B as $e,M as Me,a as qe,H as Kt}from"./ToggleSwitch-DJTTKPXw.js";import{c as Wt}from"./createLucideIcon-BYl9meum.js";/* empty css              *//**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Wt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);function je(e){return Object.prototype.toString.call(e)==="[object Array]"}function Ge(e,t){if(!e)throw new Error(t)}function at(e){return Object.keys(e)}function Te(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function ke(e,t,r){var n="."+t,o=new RegExp("(\\".concat(t,")?$"));return r(e).replace(o,n)}function qt(e){return e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function Vt(e){return Array(e+1).join(" ")}function Jt(e){return e.replace(/([<>&])/g,function(t,r){switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})}function Gt(e,t,r){switch(t){case"txt":{var n="text/plain;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"css":{var n="text/css;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"html":{var n="text/html;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"json":{var n="text/json;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"csv":{var n="text/csv;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"xls":{var n="text/application/vnd.ms-excel;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"xml":{var n="text/application/xml;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}default:return""}}function bt(e,t,r,n){r===void 0&&(r="download"),n===void 0&&(n=!0);var o=Gt(e,t,n),c=document.createElement("a");c.href=o,c.download=r,c.setAttribute("style","visibility:hidden"),document.body.appendChild(c),c.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(c)}var Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ce.apply(this,arguments)},Ie=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,c=[],d;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)c.push(o.value)}catch(g){d={error:g}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(d)throw d.error}}return c};function Yt(e){if(!e||je(e)&&!e.length||!je(e)&&!at(e).length)return function(r){return r};var t=je(e)?e.reduce(function(r,n){var o;return Ce(Ce({},r),(o={},o[n]=n,o))},Object.create(null)):e;return function(r){return je(r)?r.map(function(n){return Te(n).reduce(function(o,c){var d=Ie(c,2),g=d[0],u=d[1];return g in t&&(o[t[g]]=u),o},Object.create(null))}).filter(function(n){return at(n).length}):Te(r).reduce(function(n,o){var c=Ie(o,2),d=c[0],g=c[1];return d in t&&(n[t[d]]=g),n},Object.create(null))}}function Qt(e){var t="Invalid export data. Please provide a valid JSON";try{return typeof e=="string"?JSON.parse(e):e}catch{throw new Error(t)}}function Xt(e,t,r){t===void 0&&(t=null);var n="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,r)}catch{throw new Error(n)}}function _t(e){return e.map(Te).reduce(function(t,r,n){return r.reduce(function(o,c){var d=Ie(c,2),g=d[0],u=d[1],C=o[g]||Array.from({length:e.length}).map(function(D){return""});return C[n]=(typeof u!="string"?JSON.stringify(u):u)||"",o[g]=C,o},t)},Object.create(null))}function xt(e,t){return t===void 0&&(t=function(r){return r}),t(Te(e).map(function(r){var n=Ie(r,2),o=n[0],c=n[1];return{fieldName:o,fieldValues:c}}))}function Zt(e,t){var r=new RegExp("".concat(t,`|"|
`)),n=r.test(e)?'"':"",o=e.replace(/"/g,'""');return"".concat(n).concat(o).concat(n)}var er={beforeTableEncode:function(e){return e},delimiter:","};function tr(e,t){t===void 0&&(t={});var r=Ce(Ce({},er),t),n=r.beforeTableEncode,o=r.delimiter;if(!e.length)return"";var c=_t(e),d=xt(c,n),g=d.map(function(D){var A=D.fieldName;return A}).join(o)+`\r
`,u=d.map(function(D){var A=D.fieldValues;return A}).map(function(D){return D.map(function(A){return Zt(A,o)})}),C=u.reduce(function(D,A){return D.map(function(X,E){return"".concat(X).concat(o).concat(A[E])})});return g+C.join(`\r
`)}function rr(e,t){Ge(e.length>0);var r=_t(e),n=xt(r,t),o=n.map(function(g){var u=g.fieldName;return u}).join("</b></th><th><b>"),c=n.map(function(g){var u=g.fieldValues;return u}).map(function(g){return g.map(function(u){return"<td>".concat(u,"</td>")})}),d=c.reduce(function(g,u){return g.map(function(C,D){return"".concat(C).concat(u[D])})});return`
    <table>
      <thead>
        <tr><th><b>`.concat(o,`</b></th></tr>
      </thead>
      <tbody>
        <tr>`).concat(d.join(`</tr>
        <tr>`),`</tr>
      </tbody>
    </table>
  `)}var nr={beforeTableEncode:function(e){return e}};function ir(e,t){var r=Ce(Ce({},nr),t).beforeTableEncode;if(!e.length)return"";var n=`<html>
  <head>
    <meta charset="UTF-8" />
  </head >
  <body>
    `.concat(rr(e,r),`
  </body>
</html >
`);return n}function ar(e){var t=`<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>
`.concat(Ye(e,"base"),`
`);return t}function Ye(e,t,r,n){r===void 0&&(r="element"),n===void 0&&(n=0);var o=qt(t),c=Vt(n);if(e==null)return"".concat(c,"<").concat(o," />");var d=je(e)?e.map(function(u){return Ye(u,r,r,n+2)}).join(`
`):typeof e=="object"?Te(e).map(function(u){var C=Ie(u,2),D=C[0],A=C[1];return Ye(A,D,r,n+2)}).join(`
`):c+"  "+Jt(String(e)),g="".concat(c,"<").concat(o,`>
`).concat(d,`
`).concat(c,"</").concat(o,">");return g}var or={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function Ne(e){var t=e.data,r=e.fileName,n=r===void 0?"download":r,o=e.extension,c=e.fileNameFormatter,d=c===void 0?function(k){return k.replace(/\s+/,"_")}:c,g=e.fields,u=e.exportType,C=u===void 0?"txt":u,D=e.replacer,A=D===void 0?null:D,X=e.space,E=X===void 0?4:X,Z=e.processor,I=Z===void 0?bt:Z,he=e.withBOM,se=he===void 0?!1:he,_e=e.beforeTableEncode,ge=_e===void 0?function(k){return k}:_e,xe=e.delimiter,ye=xe===void 0?",":xe,le="Invalid export data. Please provide an array of objects",j="Can't export unknown data type ".concat(C,"."),a="Can't export string data to ".concat(C,".");if(typeof t=="string")switch(C){case"txt":case"css":case"html":return I(t,C,ke(n,o??C,d));default:throw new Error(a)}var i=Yt(g),s=i(Qt(t)),p=Xt(s,A,E);switch(C){case"txt":case"css":case"html":return I(p,C,ke(n,o??C,d));case"json":return I(p,C,ke(n,o??"json",d));case"csv":{Ge(je(s),le);var v="\uFEFF",w=tr(s,{beforeTableEncode:ge,delimiter:ye}),_=se?v+w:w;return I(_,C,ke(n,o??"csv",d))}case"xls":{Ge(je(s),le);var _=ir(s,{beforeTableEncode:ge});return I(_,C,ke(n,o??"xls",d))}case"xml":{var _=ar(s);return I(_,C,ke(n,o??"xml",d))}default:throw new Error(j)}}Ne.types=or;Ne.processors={downloadFile:bt};function sr(){const e=async()=>{be.fire({title:"Export Contacts",text:"Are you sure you want to export your contacts?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, export it!",cancelButtonText:"Cancel"}).then(async t=>{if(t.isConfirmed)try{const n=(await vt.get("contacts/allcontacts")).data.data,c=`${JSON.parse(localStorage.getItem("user")).first_name}_Contacts`,d=Ne.types.csv;Ne({data:n,fileName:c,fields:{first_name:"First Name",last_name:"Last Name",gender:"Gender",organization_name:"Organization"},exportType:d}),be.fire({icon:"success",title:"Success!",text:"Contacts exported successfully."})}catch(r){console.log(r),be.fire({icon:"error",title:"Export Error!",text:"Failed to export contacts. Please try again."})}})};return m.jsx(yt,{text:"Export Contacts",onClick:e})}function cr(){return m.jsx("div",{className:" mx-3 my-5 text-dark-blue",children:m.jsxs("div",{className:" flex flex-col gap-5",children:[m.jsx("h1",{className:" text-3xl font-bold",children:"All Contacts"}),m.jsx("div",{className:" self-end",children:m.jsx(sr,{})})]})})}function ur(e){return Ht({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}}]})(e)}var lr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Pe(e,t){var r=fr(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function fr(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),o=lr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var dr=[".DS_Store","Thumbs.db"];function pr(e){return Fe(this,void 0,void 0,function(){return Se(this,function(t){return Ue(e)&&hr(e.dataTransfer)?[2,yr(e.dataTransfer,e.type)]:mr(e)?[2,gr(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,vr(e)]:[2,[]]})})}function hr(e){return Ue(e)}function mr(e){return Ue(e)&&Ue(e.target)}function Ue(e){return typeof e=="object"&&e!==null}function gr(e){return Qe(e.target.files).map(function(t){return Pe(t)})}function vr(e){return Fe(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Pe(n)})]}})})}function yr(e,t){return Fe(this,void 0,void 0,function(){var r,n;return Se(this,function(o){switch(o.label){case 0:return e.items?(r=Qe(e.items).filter(function(c){return c.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(br))]):[3,2];case 1:return n=o.sent(),[2,ot(wt(n))];case 2:return[2,ot(Qe(e.files).map(function(c){return Pe(c)}))]}})})}function ot(e){return e.filter(function(t){return dr.indexOf(t.name)===-1})}function Qe(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function br(e){if(typeof e.webkitGetAsEntry!="function")return st(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Et(t):st(e)}function wt(e){return e.reduce(function(t,r){return nt(nt([],it(t),!1),it(Array.isArray(r)?wt(r):[r]),!1)},[])}function st(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Pe(t);return Promise.resolve(r)}function _r(e){return Fe(this,void 0,void 0,function(){return Se(this,function(t){return[2,e.isDirectory?Et(e):xr(e)]})})}function Et(e){var t=e.createReader();return new Promise(function(r,n){var o=[];function c(){var d=this;t.readEntries(function(g){return Fe(d,void 0,void 0,function(){var u,C,D;return Se(this,function(A){switch(A.label){case 0:if(g.length)return[3,5];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=A.sent(),r(u),[3,4];case 3:return C=A.sent(),n(C),[3,4];case 4:return[3,6];case 5:D=Promise.all(g.map(_r)),o.push(D),c(),A.label=6;case 6:return[2]}})})},function(g){n(g)})}c()})}function xr(e){return Fe(this,void 0,void 0,function(){return Se(this,function(t){return[2,new Promise(function(r,n){e.file(function(o){var c=Pe(o,e.fullPath);r(c)},function(o){n(o)})})]})})}var wr=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),c=o.replace(/\/.*$/,"");return r.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?n.toLowerCase().endsWith(g):g.endsWith("/*")?c===g.replace(/\/.*$/,""):o===g})}return!0};function ct(e){return Dr(e)||Cr(e)||Dt(e)||Er()}function Er(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dr(e){if(Array.isArray(e))return Xe(e)}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(r),!0).forEach(function(n){Ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t){return Ar(e)||jr(e,t)||Dt(e,t)||Or()}function Or(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(e,t){if(e){if(typeof e=="string")return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}}function Xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,c=!1,d,g;try{for(r=r.call(e);!(o=(d=r.next()).done)&&(n.push(d.value),!(t&&n.length===t));o=!0);}catch(u){c=!0,g=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(c)throw g}}return n}}function Ar(e){if(Array.isArray(e))return e}var kr="file-invalid-type",Fr="file-too-large",Sr="file-too-small",Rr="too-many-files",Tr=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:kr,message:"File type must be ".concat(r)}},ft=function(t){return{code:Fr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},dt=function(t){return{code:Sr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ir={code:Rr,message:"Too many files"};function Ot(e,t){var r=e.type==="application/x-moz-file"||wr(e,t);return[r,r?null:Tr(t)]}function jt(e,t,r){if(Oe(e.size))if(Oe(t)&&Oe(r)){if(e.size>r)return[!1,ft(r)];if(e.size<t)return[!1,dt(t)]}else{if(Oe(t)&&e.size<t)return[!1,dt(t)];if(Oe(r)&&e.size>r)return[!1,ft(r)]}return[!0,null]}function Oe(e){return e!=null}function Lr(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,c=e.multiple,d=e.maxFiles,g=e.validator;return!c&&t.length>1||c&&d>=1&&t.length>d?!1:t.every(function(u){var C=Ot(u,r),D=Le(C,1),A=D[0],X=jt(u,n,o),E=Le(X,1),Z=E[0],I=g?g(u):null;return A&&Z&&!I})}function Be(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ze(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function pt(e){e.preventDefault()}function Pr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Mr(e){return e.indexOf("Edge/")!==-1}function zr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Pr(e)||Mr(e)}function we(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,c=new Array(o>1?o-1:0),d=1;d<o;d++)c[d-1]=arguments[d];return t.some(function(g){return!Be(n)&&g&&g.apply(void 0,[n].concat(c)),Be(n)})}}function Nr(){return"showOpenFilePicker"in window}function Ur(e){if(Oe(e)){var t=Object.entries(e).filter(function(r){var n=Le(r,2),o=n[0],c=n[1],d=!0;return At(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(c)||!c.every(kt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(r,n){var o=Le(n,2),c=o[0],d=o[1];return lt(lt({},r),{},Ct({},c,d))},{});return[{description:"Files",accept:t}]}return e}function Br(e){if(Oe(e))return Object.entries(e).reduce(function(t,r){var n=Le(r,2),o=n[0],c=n[1];return[].concat(ct(t),[o],ct(c))},[]).filter(function(t){return At(t)||kt(t)}).join(",")}function Hr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Kr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function At(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function kt(e){return/^.*\.[\w]+$/.test(e)}var Wr=["children"],$r=["open"],qr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Vr=["refKey","onChange","onClick"];function Jr(e){return Qr(e)||Yr(e)||Ft(e)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qr(e){if(Array.isArray(e))return Ze(e)}function Ve(e,t){return en(e)||Zr(e,t)||Ft(e,t)||Xr()}function Xr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(e,t){if(e){if(typeof e=="string")return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ze(e,t)}}function Ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,c=!1,d,g;try{for(r=r.call(e);!(o=(d=r.next()).done)&&(n.push(d.value),!(t&&n.length===t));o=!0);}catch(u){c=!0,g=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(c)throw g}}return n}}function en(e){if(Array.isArray(e))return e}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){if(e==null)return{};var r=tn(e,t),n,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,c;for(c=0;c<n.length;c++)o=n[c],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var rt=O.forwardRef(function(e,t){var r=e.children,n=He(e,Wr),o=Rt(n),c=o.open,d=He(o,$r);return O.useImperativeHandle(t,function(){return{open:c}},[c]),Lt.createElement(O.Fragment,null,r(V(V({},d),{},{open:c})))});rt.displayName="Dropzone";var St={disabled:!1,getFilesFromEvent:pr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rt.defaultProps=St;rt.propTypes={children:z.func,accept:z.objectOf(z.arrayOf(z.string)),multiple:z.bool,preventDropOnDocument:z.bool,noClick:z.bool,noKeyboard:z.bool,noDrag:z.bool,noDragEventsBubbling:z.bool,minSize:z.number,maxSize:z.number,maxFiles:z.number,disabled:z.bool,getFilesFromEvent:z.func,onFileDialogCancel:z.func,onFileDialogOpen:z.func,useFsAccessApi:z.bool,autoFocus:z.bool,onDragEnter:z.func,onDragLeave:z.func,onDragOver:z.func,onDrop:z.func,onDropAccepted:z.func,onDropRejected:z.func,onError:z.func,validator:z.func};var tt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=V(V({},St),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,c=t.maxSize,d=t.minSize,g=t.multiple,u=t.maxFiles,C=t.onDragEnter,D=t.onDragLeave,A=t.onDragOver,X=t.onDrop,E=t.onDropAccepted,Z=t.onDropRejected,I=t.onFileDialogCancel,he=t.onFileDialogOpen,se=t.useFsAccessApi,_e=t.autoFocus,ge=t.preventDropOnDocument,xe=t.noClick,ye=t.noKeyboard,le=t.noDrag,j=t.noDragEventsBubbling,a=t.onError,i=t.validator,s=O.useMemo(function(){return Br(r)},[r]),p=O.useMemo(function(){return Ur(r)},[r]),v=O.useMemo(function(){return typeof he=="function"?he:mt},[he]),w=O.useMemo(function(){return typeof I=="function"?I:mt},[I]),_=O.useRef(null),k=O.useRef(null),W=O.useReducer(rn,tt),b=Ve(W,2),U=b[0],y=b[1],me=U.isFocused,ee=U.isFileDialogActive,h=O.useRef(typeof window<"u"&&window.isSecureContext&&se&&Nr()),L=function(){!h.current&&ee&&setTimeout(function(){if(k.current){var f=k.current.files;f.length||(y({type:"closeDialog"}),w())}},300)};O.useEffect(function(){return window.addEventListener("focus",L,!1),function(){window.removeEventListener("focus",L,!1)}},[k,ee,w,h]);var q=O.useRef([]),B=function(f){_.current&&_.current.contains(f.target)||(f.preventDefault(),q.current=[])};O.useEffect(function(){return ge&&(document.addEventListener("dragover",pt,!1),document.addEventListener("drop",B,!1)),function(){ge&&(document.removeEventListener("dragover",pt),document.removeEventListener("drop",B))}},[_,ge]),O.useEffect(function(){return!n&&_e&&_.current&&_.current.focus(),function(){}},[_,_e,n]);var H=O.useCallback(function(l){a?a(l):console.error(l)},[a]),G=O.useCallback(function(l){l.preventDefault(),l.persist(),fe(l),q.current=[].concat(Jr(q.current),[l.target]),ze(l)&&Promise.resolve(o(l)).then(function(f){if(!(Be(l)&&!j)){var P=f.length,M=P>0&&Lr({files:f,accept:s,minSize:d,maxSize:c,multiple:g,maxFiles:u,validator:i}),Q=P>0&&!M;y({isDragAccept:M,isDragReject:Q,isDragActive:!0,type:"setDraggedFiles"}),C&&C(l)}}).catch(function(f){return H(f)})},[o,C,H,j,s,d,c,g,u,i]),Y=O.useCallback(function(l){l.preventDefault(),l.persist(),fe(l);var f=ze(l);if(f&&l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return f&&A&&A(l),!1},[A,j]),x=O.useCallback(function(l){l.preventDefault(),l.persist(),fe(l);var f=q.current.filter(function(M){return _.current&&_.current.contains(M)}),P=f.indexOf(l.target);P!==-1&&f.splice(P,1),q.current=f,!(f.length>0)&&(y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ze(l)&&D&&D(l))},[_,D,j]),F=O.useCallback(function(l,f){var P=[],M=[];l.forEach(function(Q){var pe=Ot(Q,s),ue=Ve(pe,2),ve=ue[0],ae=ue[1],Ee=jt(Q,d,c),ne=Ve(Ee,2),Ae=ne[0],De=ne[1],Ke=i?i(Q):null;if(ve&&Ae&&!Ke)P.push(Q);else{var We=[ae,De];Ke&&(We=We.concat(Ke)),M.push({file:Q,errors:We.filter(function(It){return It})})}}),(!g&&P.length>1||g&&u>=1&&P.length>u)&&(P.forEach(function(Q){M.push({file:Q,errors:[Ir]})}),P.splice(0)),y({acceptedFiles:P,fileRejections:M,type:"setFiles"}),X&&X(P,M,f),M.length>0&&Z&&Z(M,f),P.length>0&&E&&E(P,f)},[y,g,s,d,c,u,X,E,Z,i]),R=O.useCallback(function(l){l.preventDefault(),l.persist(),fe(l),q.current=[],ze(l)&&Promise.resolve(o(l)).then(function(f){Be(l)&&!j||F(f,l)}).catch(function(f){return H(f)}),y({type:"reset"})},[o,F,H,j]),N=O.useCallback(function(){if(h.current){y({type:"openDialog"}),v();var l={multiple:g,types:p};window.showOpenFilePicker(l).then(function(f){return o(f)}).then(function(f){F(f,null),y({type:"closeDialog"})}).catch(function(f){Hr(f)?(w(f),y({type:"closeDialog"})):Kr(f)?(h.current=!1,k.current?(k.current.value=null,k.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(f)});return}k.current&&(y({type:"openDialog"}),v(),k.current.value=null,k.current.click())},[y,v,w,se,F,H,p,g]),S=O.useCallback(function(l){!_.current||!_.current.isEqualNode(l.target)||(l.key===" "||l.key==="Enter"||l.keyCode===32||l.keyCode===13)&&(l.preventDefault(),N())},[_,N]),te=O.useCallback(function(){y({type:"focus"})},[]),$=O.useCallback(function(){y({type:"blur"})},[]),T=O.useCallback(function(){xe||(zr()?setTimeout(N,0):N())},[xe,N]),re=function(f){return n?null:f},ie=function(f){return ye?null:re(f)},ce=function(f){return le?null:re(f)},fe=function(f){j&&f.stopPropagation()},de=O.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.refKey,P=f===void 0?"ref":f,M=l.role,Q=l.onKeyDown,pe=l.onFocus,ue=l.onBlur,ve=l.onClick,ae=l.onDragEnter,Ee=l.onDragOver,ne=l.onDragLeave,Ae=l.onDrop,De=He(l,qr);return V(V(et({onKeyDown:ie(we(Q,S)),onFocus:ie(we(pe,te)),onBlur:ie(we(ue,$)),onClick:re(we(ve,T)),onDragEnter:ce(we(ae,G)),onDragOver:ce(we(Ee,Y)),onDragLeave:ce(we(ne,x)),onDrop:ce(we(Ae,R)),role:typeof M=="string"&&M!==""?M:"presentation"},P,_),!n&&!ye?{tabIndex:0}:{}),De)}},[_,S,te,$,T,G,Y,x,R,ye,le,n]),K=O.useCallback(function(l){l.stopPropagation()},[]),J=O.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.refKey,P=f===void 0?"ref":f,M=l.onChange,Q=l.onClick,pe=He(l,Vr),ue=et({accept:s,multiple:g,type:"file",style:{display:"none"},onChange:re(we(M,R)),onClick:re(we(Q,K)),tabIndex:-1},P,k);return V(V({},ue),pe)}},[k,r,g,R,n]);return V(V({},U),{},{isFocused:me&&!n,getRootProps:de,getInputProps:J,rootRef:_,inputRef:k,open:re(N)})}function rn(e,t){switch(t.type){case"focus":return V(V({},e),{},{isFocused:!0});case"blur":return V(V({},e),{},{isFocused:!1});case"openDialog":return V(V({},tt),{},{isFileDialogActive:!0});case"closeDialog":return V(V({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return V(V({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return V(V({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return V({},tt);default:return e}}function mt(){}const nn={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#08a5aa",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"},an={borderColor:"#08a5aa"},on={borderColor:"green"},sn={borderColor:"#ff1744"};var Tt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,n){e.exports=n()})(Pt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},o=!n.document&&!!n.postMessage,c=n.IS_PAPA_WORKER||!1,d={},g=0,u={parse:function(a,i){var s=(i=i||{}).dynamicTyping||!1;if(j(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!j(i.transform)&&i.transform,i.worker&&u.WORKERS_SUPPORTED){var p=function(){if(!u.WORKERS_SUPPORTED)return!1;var w=(k=n.URL||n.webkitURL||null,W=r.toString(),u.BLOB_URL||(u.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))),_=new n.Worker(w),k,W;return _.onmessage=_e,_.id=g++,d[_.id]=_}();return p.userStep=i.step,p.userChunk=i.chunk,p.userComplete=i.complete,p.userError=i.error,i.step=j(i.step),i.chunk=j(i.chunk),i.complete=j(i.complete),i.error=j(i.error),delete i.worker,void p.postMessage({input:a,config:i,workerId:p.id})}var v=null;return u.NODE_STREAM_INPUT,typeof a=="string"?(a=function(w){return w.charCodeAt(0)===65279?w.slice(1):w}(a),v=i.download?new A(i):new E(i)):a.readable===!0&&j(a.read)&&j(a.on)?v=new Z(i):(n.File&&a instanceof File||a instanceof Object)&&(v=new X(i)),v.stream(a)},unparse:function(a,i){var s=!1,p=!0,v=",",w=`\r
`,_='"',k=_+_,W=!1,b=null,U=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||u.BAD_DELIMITERS.filter(function(h){return i.delimiter.indexOf(h)!==-1}).length||(v=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(s=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(W=i.skipEmptyLines),typeof i.newline=="string"&&(w=i.newline),typeof i.quoteChar=="string"&&(_=i.quoteChar),typeof i.header=="boolean"&&(p=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");b=i.columns}i.escapeChar!==void 0&&(k=i.escapeChar+_),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(U=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var y=new RegExp(he(_),"g");if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return me(null,a,W);if(typeof a[0]=="object")return me(b||Object.keys(a[0]),a,W)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||b),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),me(a.fields||[],a.data||[],W);throw new Error("Unable to serialize unrecognized input");function me(h,L,q){var B="";typeof h=="string"&&(h=JSON.parse(h)),typeof L=="string"&&(L=JSON.parse(L));var H=Array.isArray(h)&&0<h.length,G=!Array.isArray(L[0]);if(H&&p){for(var Y=0;Y<h.length;Y++)0<Y&&(B+=v),B+=ee(h[Y],Y);0<L.length&&(B+=w)}for(var x=0;x<L.length;x++){var F=H?h.length:L[x].length,R=!1,N=H?Object.keys(L[x]).length===0:L[x].length===0;if(q&&!H&&(R=q==="greedy"?L[x].join("").trim()==="":L[x].length===1&&L[x][0].length===0),q==="greedy"&&H){for(var S=[],te=0;te<F;te++){var $=G?h[te]:te;S.push(L[x][$])}R=S.join("").trim()===""}if(!R){for(var T=0;T<F;T++){0<T&&!N&&(B+=v);var re=H&&G?h[T]:T;B+=ee(L[x][re],T)}x<L.length-1&&(!q||0<F&&!N)&&(B+=w)}}return B}function ee(h,L){if(h==null)return"";if(h.constructor===Date)return JSON.stringify(h).slice(1,25);var q=!1;U&&typeof h=="string"&&U.test(h)&&(h="'"+h,q=!0);var B=h.toString().replace(y,k);return(q=q||s===!0||typeof s=="function"&&s(h,L)||Array.isArray(s)&&s[L]||function(H,G){for(var Y=0;Y<G.length;Y++)if(-1<H.indexOf(G[Y]))return!0;return!1}(B,u.BAD_DELIMITERS)||-1<B.indexOf(v)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?_+B+_:B}}};if(u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=se,u.ParserHandle=I,u.NetworkStreamer=A,u.FileStreamer=X,u.StringStreamer=E,u.ReadableStreamStreamer=Z,n.jQuery){var C=n.jQuery;C.fn.parse=function(a){var i=a.config||{},s=[];return this.each(function(w){if(!(C(this).prop("tagName").toUpperCase()==="INPUT"&&C(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var _=0;_<this.files.length;_++)s.push({file:this.files[_],inputElem:this,instanceConfig:C.extend({},i)})}),p(),this;function p(){if(s.length!==0){var w,_,k,W,b=s[0];if(j(a.before)){var U=a.before(b.file,b.inputElem);if(typeof U=="object"){if(U.action==="abort")return w="AbortError",_=b.file,k=b.inputElem,W=U.reason,void(j(a.error)&&a.error({name:w},_,k,W));if(U.action==="skip")return void v();typeof U.config=="object"&&(b.instanceConfig=C.extend(b.instanceConfig,U.config))}else if(U==="skip")return void v()}var y=b.instanceConfig.complete;b.instanceConfig.complete=function(me){j(y)&&y(me,b.file,b.inputElem),v()},u.parse(b.file,b.instanceConfig)}else j(a.complete)&&a.complete()}function v(){s.splice(0,1),p()}}}function D(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(i){var s=ye(i);s.chunkSize=parseInt(s.chunkSize),i.step||i.chunk||(s.chunkSize=null),this._handle=new I(s),(this._handle.streamer=this)._config=s}).call(this,a),this.parseChunk=function(i,s){if(this.isFirstChunk&&j(this._config.beforeFirstChunk)){var p=this._config.beforeFirstChunk(i);p!==void 0&&(i=p)}this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+i;this._partialLine="";var w=this._handle.parse(v,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _=w.meta.cursor;this._finished||(this._partialLine=v.substring(_-this._baseIndex),this._baseIndex=_),w&&w.data&&(this._rowCount+=w.data.length);var k=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(c)n.postMessage({results:w,workerId:u.WORKER_ID,finished:k});else if(j(this._config.chunk)&&!s){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);w=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!k||!j(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(i){j(this._config.error)?this._config.error(i):c&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:i,finished:!1})}}function A(a){var i;(a=a||{}).chunkSize||(a.chunkSize=u.RemoteChunkSize),D.call(this,a),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(s){this._input=s,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),o||(i.onload=le(this._chunkLoaded,this),i.onerror=le(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var s=this._config.downloadRequestHeaders;for(var p in s)i.setRequestHeader(p,s[p])}if(this._config.chunkSize){var v=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+v)}try{i.send(this._config.downloadRequestBody)}catch(w){this._chunkError(w.message)}o&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(s){var p=s.getResponseHeader("Content-Range");return p===null?-1:parseInt(p.substring(p.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(s){var p=i.statusText||s;this._sendError(new Error(p))}}function X(a){var i,s;(a=a||{}).chunkSize||(a.chunkSize=u.LocalChunkSize),D.call(this,a);var p=typeof FileReader<"u";this.stream=function(v){this._input=v,s=v.slice||v.webkitSlice||v.mozSlice,p?((i=new FileReader).onload=le(this._chunkLoaded,this),i.onerror=le(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var v=this._input;if(this._config.chunkSize){var w=Math.min(this._start+this._config.chunkSize,this._input.size);v=s.call(v,this._start,w)}var _=i.readAsText(v,this._config.encoding);p||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(v){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(v.target.result)},this._chunkError=function(){this._sendError(i.error)}}function E(a){var i;D.call(this,a=a||{}),this.stream=function(s){return i=s,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var s,p=this._config.chunkSize;return p?(s=i.substring(0,p),i=i.substring(p)):(s=i,i=""),this._finished=!i,this.parseChunk(s)}}}function Z(a){D.call(this,a=a||{});var i=[],s=!0,p=!1;this.pause=function(){D.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){D.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(v){this._input=v,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):s=!0},this._streamData=le(function(v){try{i.push(typeof v=="string"?v:v.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(w){this._streamError(w)}},this),this._streamError=le(function(v){this._streamCleanUp(),this._sendError(v)},this),this._streamEnd=le(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=le(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(a){var i,s,p,v=Math.pow(2,53),w=-v,_=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,b=0,U=0,y=!1,me=!1,ee=[],h={data:[],errors:[],meta:{}};if(j(a.step)){var L=a.step;a.step=function(x){if(h=x,H())B();else{if(B(),h.data.length===0)return;b+=x.data.length,a.preview&&b>a.preview?s.abort():(h.data=h.data[0],L(h,W))}}}function q(x){return a.skipEmptyLines==="greedy"?x.join("").trim()==="":x.length===1&&x[0].length===0}function B(){return h&&p&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),p=!1),a.skipEmptyLines&&(h.data=h.data.filter(function(x){return!q(x)})),H()&&function(){if(!h)return;function x(R,N){j(a.transformHeader)&&(R=a.transformHeader(R,N)),ee.push(R)}if(Array.isArray(h.data[0])){for(var F=0;H()&&F<h.data.length;F++)h.data[F].forEach(x);h.data.splice(0,1)}else h.data.forEach(x)}(),function(){if(!h||!a.header&&!a.dynamicTyping&&!a.transform)return h;function x(R,N){var S,te=a.header?{}:[];for(S=0;S<R.length;S++){var $=S,T=R[S];a.header&&($=S>=ee.length?"__parsed_extra":ee[S]),a.transform&&(T=a.transform(T,$)),T=G($,T),$==="__parsed_extra"?(te[$]=te[$]||[],te[$].push(T)):te[$]=T}return a.header&&(S>ee.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+S,U+N):S<ee.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+S,U+N)),te}var F=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(x),F=h.data.length):h.data=x(h.data,0),a.header&&h.meta&&(h.meta.fields=ee),U+=F,h}()}function H(){return a.header&&ee.length===0}function G(x,F){return R=x,a.dynamicTypingFunction&&a.dynamicTyping[R]===void 0&&(a.dynamicTyping[R]=a.dynamicTypingFunction(R)),(a.dynamicTyping[R]||a.dynamicTyping)===!0?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&(function(N){if(_.test(N)){var S=parseFloat(N);if(w<S&&S<v)return!0}return!1}(F)?parseFloat(F):k.test(F)?new Date(F):F===""?null:F):F;var R}function Y(x,F,R,N){var S={type:x,code:F,message:R};N!==void 0&&(S.row=N),h.errors.push(S)}this.parse=function(x,F,R){var N=a.quoteChar||'"';if(a.newline||(a.newline=function($,T){$=$.substring(0,1048576);var re=new RegExp(he(T)+"([^]*?)"+he(T),"gm"),ie=($=$.replace(re,"")).split("\r"),ce=$.split(`
`),fe=1<ce.length&&ce[0].length<ie[0].length;if(ie.length===1||fe)return`
`;for(var de=0,K=0;K<ie.length;K++)ie[K][0]===`
`&&de++;return de>=ie.length/2?`\r
`:"\r"}(x,N)),p=!1,a.delimiter)j(a.delimiter)&&(a.delimiter=a.delimiter(x),h.meta.delimiter=a.delimiter);else{var S=function($,T,re,ie,ce){var fe,de,K,J;ce=ce||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var l=0;l<ce.length;l++){var f=ce[l],P=0,M=0,Q=0;K=void 0;for(var pe=new se({comments:ie,delimiter:f,newline:T,preview:10}).parse($),ue=0;ue<pe.data.length;ue++)if(re&&q(pe.data[ue]))Q++;else{var ve=pe.data[ue].length;M+=ve,K!==void 0?0<ve&&(P+=Math.abs(ve-K),K=ve):K=ve}0<pe.data.length&&(M/=pe.data.length-Q),(de===void 0||P<=de)&&(J===void 0||J<M)&&1.99<M&&(de=P,fe=f,J=M)}return{successful:!!(a.delimiter=fe),bestDelimiter:fe}}(x,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);S.successful?a.delimiter=S.bestDelimiter:(p=!0,a.delimiter=u.DefaultDelimiter),h.meta.delimiter=a.delimiter}var te=ye(a);return a.preview&&a.header&&te.preview++,i=x,s=new se(te),h=s.parse(i,F,R),B(),y?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,s.abort(),i=j(a.chunk)?"":i.substring(s.getCharIndex())},this.resume=function(){W.streamer._halted?(y=!1,W.streamer.parseChunk(i,!0)):setTimeout(W.resume,3)},this.aborted=function(){return me},this.abort=function(){me=!0,s.abort(),h.meta.aborted=!0,j(a.complete)&&a.complete(h),i=""}}function he(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function se(a){var i,s=(a=a||{}).delimiter,p=a.newline,v=a.comments,w=a.step,_=a.preview,k=a.fastMode,W=i=a.quoteChar===void 0||a.quoteChar===null?'"':a.quoteChar;if(a.escapeChar!==void 0&&(W=a.escapeChar),(typeof s!="string"||-1<u.BAD_DELIMITERS.indexOf(s))&&(s=","),v===s)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<u.BAD_DELIMITERS.indexOf(v))&&(v=!1),p!==`
`&&p!=="\r"&&p!==`\r
`&&(p=`
`);var b=0,U=!1;this.parse=function(y,me,ee){if(typeof y!="string")throw new Error("Input must be a string");var h=y.length,L=s.length,q=p.length,B=v.length,H=j(w),G=[],Y=[],x=[],F=b=0;if(!y)return ae();if(a.header&&!me){var R=y.split(p)[0].split(s),N=[],S={},te=!1;for(var $ in R){var T=R[$];j(a.transformHeader)&&(T=a.transformHeader(T,$));var re=T,ie=S[T]||0;for(0<ie&&(te=!0,re=T+"_"+ie),S[T]=ie+1;N.includes(re);)re=re+"_"+ie;N.push(re)}if(te){var ce=y.split(p);ce[0]=N.join(s),y=ce.join(p)}}if(k||k!==!1&&y.indexOf(i)===-1){for(var fe=y.split(p),de=0;de<fe.length;de++){if(x=fe[de],b+=x.length,de!==fe.length-1)b+=p.length;else if(ee)return ae();if(!v||x.substring(0,B)!==v){if(H){if(G=[],Q(x.split(s)),Ee(),U)return ae()}else Q(x.split(s));if(_&&_<=de)return G=G.slice(0,_),ae(!0)}}return ae()}for(var K=y.indexOf(s,b),J=y.indexOf(p,b),l=new RegExp(he(W)+he(i),"g"),f=y.indexOf(i,b);;)if(y[b]!==i)if(v&&x.length===0&&y.substring(b,b+B)===v){if(J===-1)return ae();b=J+q,J=y.indexOf(p,b),K=y.indexOf(s,b)}else if(K!==-1&&(K<J||J===-1))x.push(y.substring(b,K)),b=K+L,K=y.indexOf(s,b);else{if(J===-1)break;if(x.push(y.substring(b,J)),ve(J+q),H&&(Ee(),U))return ae();if(_&&G.length>=_)return ae(!0)}else for(f=b,b++;;){if((f=y.indexOf(i,f+1))===-1)return ee||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:b}),ue();if(f===h-1)return ue(y.substring(b,f).replace(l,i));if(i!==W||y[f+1]!==W){if(i===W||f===0||y[f-1]!==W){K!==-1&&K<f+1&&(K=y.indexOf(s,f+1)),J!==-1&&J<f+1&&(J=y.indexOf(p,f+1));var P=pe(J===-1?K:Math.min(K,J));if(y.substr(f+1+P,L)===s){x.push(y.substring(b,f).replace(l,i)),y[b=f+1+P+L]!==i&&(f=y.indexOf(i,b)),K=y.indexOf(s,b),J=y.indexOf(p,b);break}var M=pe(J);if(y.substring(f+1+M,f+1+M+q)===p){if(x.push(y.substring(b,f).replace(l,i)),ve(f+1+M+q),K=y.indexOf(s,b),f=y.indexOf(i,b),H&&(Ee(),U))return ae();if(_&&G.length>=_)return ae(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:b}),f++}}else f++}return ue();function Q(ne){G.push(ne),F=b}function pe(ne){var Ae=0;if(ne!==-1){var De=y.substring(f+1,ne);De&&De.trim()===""&&(Ae=De.length)}return Ae}function ue(ne){return ee||(ne===void 0&&(ne=y.substring(b)),x.push(ne),b=h,Q(x),H&&Ee()),ae()}function ve(ne){b=ne,Q(x),x=[],J=y.indexOf(p,b)}function ae(ne){return{data:G,errors:Y,meta:{delimiter:s,linebreak:p,aborted:U,truncated:!!ne,cursor:F+(me||0)}}}function Ee(){w(ae()),G=[],Y=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return b}}function _e(a){var i=a.data,s=d[i.workerId],p=!1;if(i.error)s.userError(i.error,i.file);else if(i.results&&i.results.data){var v={abort:function(){p=!0,ge(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:xe,resume:xe};if(j(s.userStep)){for(var w=0;w<i.results.data.length&&(s.userStep({data:i.results.data[w],errors:i.results.errors,meta:i.results.meta},v),!p);w++);delete i.results}else j(s.userChunk)&&(s.userChunk(i.results,v,i.file),delete i.results)}i.finished&&!p&&ge(i.workerId,i.results)}function ge(a,i){var s=d[a];j(s.userComplete)&&s.userComplete(i),s.terminate(),delete d[a]}function xe(){throw new Error("Not implemented.")}function ye(a){if(typeof a!="object"||a===null)return a;var i=Array.isArray(a)?[]:{};for(var s in a)i[s]=ye(a[s]);return i}function le(a,i){return function(){a.apply(i,arguments)}}function j(a){return typeof a=="function"}return c&&(n.onmessage=function(a){var i=a.data;if(u.WORKER_ID===void 0&&i&&(u.WORKER_ID=i.workerId),typeof i.input=="string")n.postMessage({workerId:u.WORKER_ID,results:u.parse(i.input,i.config),finished:!0});else if(n.File&&i.input instanceof File||i.input instanceof Object){var s=u.parse(i.input,i.config);s&&n.postMessage({workerId:u.WORKER_ID,results:s,finished:!0})}}),(A.prototype=Object.create(D.prototype)).constructor=A,(X.prototype=Object.create(D.prototype)).constructor=X,(E.prototype=Object.create(E.prototype)).constructor=E,(Z.prototype=Object.create(D.prototype)).constructor=Z,u})})(Tt);var cn=Tt.exports;const un=Mt(cn);function ln({extractedData:e,clearData:t}){const[r,n]=O.useState(!1),[o,c]=O.useState({}),[d,g]=O.useState(null),[u,C]=O.useState(e);O.useEffect(()=>{C(e)},[e]);const D=E=>{n(!0),c({...u[E]}),g(E)},A=()=>{const E=[...u];E[d]=o,C(E),n(!1)},X=async()=>{be.fire({title:"Are you sure?",text:"Please verify that you have properly reviewed the contents before submitting.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(async E=>{if(E.isConfirmed){const Z=u.map(I=>({first_name:I["first name"],last_name:I["last name"],email:I.email,organization_name:I.organization,phone_number:I["phone number"]}));try{const I=await vt.post("contacts/import-contacts",{data:Z});be.fire({icon:"success",title:"Success!",text:"Data submitted successfully."}).then(()=>{t(),C([])})}catch(I){console.log("error",I),be.fire({icon:"error",title:"Error!",text:"Failed to submit data. Please try again."})}}})};return m.jsxs("div",{className:" m-auto",children:[m.jsxs("div",{className:"overflow-x-auto flex flex-col justify-center items-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-left self-start",children:"CSV File Fields"}),m.jsxs(oe,{striped:!0,children:[m.jsxs(oe.Head,{title:"Verify the content of the .csv file then scroll to the buttom to confirm submission.",children:[m.jsx(oe.HeadCell,{children:"first name"}),m.jsx(oe.HeadCell,{children:"last name"}),m.jsx(oe.HeadCell,{children:"email"}),m.jsx(oe.HeadCell,{children:"organization"}),m.jsx(oe.HeadCell,{children:"phone number"}),m.jsx(oe.HeadCell,{children:m.jsx("span",{className:"sr-only",children:"Edit"})})]}),m.jsx(oe.Body,{className:"divide-y",children:u.map((E,Z)=>m.jsxs(oe.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[m.jsx(oe.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:E["first name"]}),m.jsx(oe.Cell,{children:E["last name"]}),m.jsx(oe.Cell,{children:E.email}),m.jsx(oe.Cell,{children:E.organization}),m.jsx(oe.Cell,{children:E["phone number"]}),m.jsx(oe.Cell,{children:m.jsx($e,{onClick:()=>D(Z),className:"font-medium text-mansa-blue hover:underline p-0 m-0 border-0",children:"Edit"})})]},Z))})]}),u.length!==0&&m.jsx("div",{className:" my-12",children:m.jsx(yt,{text:"Confirm Submission",onClick:X,className:""})})]}),m.jsxs(Me,{dismissible:!0,show:r,onClose:()=>n(!1),children:[m.jsx(Me.Header,{children:"Edit Row Values"}),m.jsxs(Me.Body,{className:" flex flex-col gap-5",children:[m.jsx(Re,{title:"First Name",type:"text",value:o["first name"]||"",onChange:E=>c({...o,"first name":E.target.value})}),m.jsx(Re,{title:"Last Name",type:"text",value:o["last name"]||"",onChange:E=>c({...o,"last name":E.target.value})}),m.jsx(Re,{title:"Email",type:"text",value:o.email||"",onChange:E=>c({...o,email:E.target.value})}),m.jsx(Re,{title:"Organization",type:"text",value:o.organization||"",onChange:E=>c({...o,organization:E.target.value})}),m.jsx(Re,{title:"Phone Number",type:"number",value:o["phone number"]||"",onChange:E=>c({...o,"phone number":E.target.value})})]}),m.jsxs(Me.Footer,{className:" flex justify-between mx-10",children:[m.jsx($e,{className:" bg-mansa-blue text-white w-40 font-bold",onClick:A,children:"Save"}),m.jsx($e,{className:" bg-red-500 text-white w-40 font-bold",onClick:()=>n(!1),children:"Cancel"})]})]})]})}const gt=["first name","last name","email","phone number","organization"];let Je=[];function fn(){O.useState(null);const{acceptedFiles:e,fileRejections:t,getRootProps:r,getInputProps:n,isFocused:o,isDragAccept:c,isDragReject:d}=Rt({accept:{"text/csv":[".csv"]},maxFiles:1}),g=O.useMemo(()=>({...nn,...o?an:{},...c?on:{},...d?sn:{}}),[o,c,d]);function u(){t.length>0&&be.fire({icon:"error",title:"Invalid File Format!",text:`'${t[0].file.path}' is not in .csv format.`})}const C=async()=>{if(e.length>0){const D=e[0],A=new FileReader;A.readAsText(D),A.onload=async()=>{const X=A.result;try{const E=un.parse(X,{header:!1,skipEmptyLines:!0,dynamicTyping:!0});if(E.data[0]===null){be.fire({icon:"error",title:"Error!",text:"CSV file does not contain a header row."});return}const I=E.data[0].map(se=>se?se.trim():"");I.some(se=>gt.includes(se))?(Je=E.data.slice(1).map(se=>{const _e={};return I.forEach((ge,xe)=>{const ye=ge.toLowerCase();gt.includes(ge)&&(_e[ye]=se[xe])}),_e}),be.fire({icon:"success",title:"Success!",text:"The file was uploaded successfully. Please verify the contents below before final submission."})):be.fire({icon:"error",title:"Error!",text:"CSV file does not contain any of the required fields."})}catch(E){console.error("Error parsing CSV:",E),be.fire({icon:"error",title:"Error!",text:"An error occurred while parsing the CSV file."})}}}};return O.useEffect(()=>{C(),u()},[e,t]),m.jsxs("div",{className:"px-3 flex flex-col my-5 w-full justify-center items-center overflow-x-auto",children:[m.jsx("section",{className:"container w-[80%] max-md:w-full mb-20 max-md:mb-10",children:m.jsxs("div",{...r({style:g}),children:[m.jsx("input",{...n()}),m.jsx($t,{size:40}),m.jsxs("p",{className:"text-lg text-center",children:["Drag and drop file to upload, or ",m.jsx("span",{className:"text-mansa-blue underline cursor-pointer",children:"browse"})]}),m.jsx("em",{children:"(Only *.csv file will be accepted)"})]})}),m.jsx(ln,{extractedData:Je,clearData:()=>{Je=[],e.pop()}})]})}function dn(){return m.jsx("div",{className:"",children:m.jsxs(qe,{"aria-label":"Full width tabs",style:"fullWidth",className:" bg-light-grey",children:[m.jsx(qe.Item,{active:!0,title:"Contacts",icon:Kt,children:m.jsx(cr,{})}),m.jsx(qe.Item,{title:"Import Contacts",icon:ur,children:m.jsx(fn,{})})]})})}function _n(){const e=zt(),{isAuthenticated:t}=Nt();return O.useEffect(()=>{t||e("/auth/login")},[t,e]),m.jsxs("div",{className:"h-screen w-full text-dark-blue",children:[m.jsx("div",{className:" sticky top-0 w-full z-50",children:m.jsx(Ut,{})}),m.jsxs("div",{className:" flex h-screen w-full",children:[m.jsx("div",{className:"",children:m.jsx(Bt,{})}),m.jsx("div",{className:" w-full overflow-y-auto overflow-x-hidden",children:m.jsx(dn,{})})]})]})}export{_n as default};
