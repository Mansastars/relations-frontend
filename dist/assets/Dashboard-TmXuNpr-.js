import{r as d,j as e,a as C,S as k,u as ie,$ as P,g as xe,b as fe}from"./index-DO6F1rRA.js";import{F as T,a as U,D as re,b as ce,c as de,B as K}from"./Reusables-EiZm1SG7.js";import{X as ee,S as ge}from"./SidePanel-B_hYqSzo.js";import{c as W}from"./index-hfPBZaqo.js";import{X as F}from"./x-circle-SxtLj-_X.js";import{F as pe}from"./FreeTrialBanner-C_4u_D8A.js";import{c as ue}from"./createLucideIcon-Cvw2IG8n.js";/* empty css              *//**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function je({onClose:t}){const s=d.useRef(),r=f=>{s.current===f.target&&t()},[l,o]=d.useState({title:"",firstName:"",lastName:"",company:"",dealSize:0,email:"",phoneNumber:"",notes:"",currentStage:"",datetime:""}),[g,y]=d.useState(""),[p,x]=d.useState(""),[c,h]=d.useState(!1),m=f=>{if(f&&f.target){const{name:N,value:_}=f.target;o(v=>({...v,[N]:_}))}},j=async f=>{f.preventDefault();const N=localStorage.getItem("currentDealId");if(!N){console.error("Deal ID not found in localStorage");return}let _;l.datetime&&(_=new Date(l.datetime).toISOString());const v={deal_id:N,title:l.title,first_name:l.firstName,last_name:l.lastName,organization_name:l.company,deal_size:l.dealSize,email:l.email,phone_number:l.phoneNumber,stage:l.currentStage,meeting_date:_,notes:l.notes};try{const S=await C.post(`/deals/create-contact/${N}`,v);console.log(S),y("Contact created successfully."),window.location.reload(),x(""),o({title:"",firstName:"",lastName:"",company:"",dealSize:0,email:"",phoneNumber:"",notes:"",currentStage:"",datetime:""}),setTimeout(()=>{h(!1),y(""),t()},2e3)}catch(S){console.log(S),x("Something went wrong. Please try again."),y(""),h(!1)}};return e.jsx("div",{ref:s,onClick:r,className:" fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5 w-full",children:[e.jsx("button",{onClick:t,className:" mr-20 max-sm:mr-10 self-end text-dark-blue",children:e.jsx(ee,{size:30})}),e.jsxs("div",{className:" bg-white rounded-xl px-20 max-md:px-5 py-10 flex flex-col gap-7 items-center mx-20 max-md:mx-10",children:[e.jsx("h1",{className:" text-dark-blue text-3xl max-md:text-2xl max-sm:text-xl font-extrabold",children:"Add a new contact to your pipeline"}),e.jsxs("form",{action:"",onSubmit:j,className:" flex flex-col gap-5 w-full",children:[g&&e.jsx("p",{className:" text-mansa-blue font-semibold",children:g}),p&&e.jsx("p",{className:" text-[#ff0000] font-semibold",children:p}),e.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[e.jsxs("div",{className:" flex flex-row flex-wrap gap-5 justify-center max-md:justify-start",children:[e.jsx(T,{type:"text",title:"Title",placeholder:"Mr./Mrs./Ms./Dr./Engr.",id:"title",value:l.title,onChange:m}),e.jsx(U,{type:"text",title:"First Name*",placeholder:"Sundi",id:"firstName",value:l.firstName,onChange:m}),e.jsx(U,{type:"text",title:"Last Name*",placeholder:"Keita",id:"lastName",value:l.lastName,onChange:m})]}),e.jsxs("div",{className:" flex flex-row flex-wrap gap-x-5 gap-y-8 justify-center max-md:justify-start",children:[e.jsx(T,{type:"text",title:"Company",placeholder:"Mansa, LLC",id:"company",value:l.company,onChange:m}),e.jsx(T,{type:"number",title:"Deal Size ($)",placeholder:"1,000,000",id:"dealSize",min:0,value:l.dealSize,onChange:m}),e.jsx(T,{type:"email",title:"Contact Email",placeholder:"sundi@sankore.com",id:"email",value:l.email,onChange:m}),e.jsx(T,{type:"tel",title:"Phone Number",placeholder:"+123456789",id:"phoneNumber",maxLength:15,value:l.phoneNumber,onChange:m}),e.jsx(re,{label:"Current Stage",id:"currentStage",value:l.currentStage,onChange:m}),e.jsx(ce,{title:"Meeting Date",value:l.datetime,onChange:m})]}),e.jsx("div",{children:e.jsx(de,{value:l.notes,onChange:m})})]}),e.jsx("div",{className:" mt-8 w-full flex items-center justify-center",children:e.jsx(K,{type:"submit",disabled:c,text:"Create Contact"})})]})]})]})})}function V({titles:t,titleColors:s,contents:r}){const l=W("shadow-lg","rounded-2xl","w-full"),o={color:s,minWidth:"165px"},g={backgroundColor:"rgb(255, 255, 255)"};return e.jsxs("div",{className:" flex flex-col gap-5 items-center w-full ",style:{maxWidth:"calc(100% - 224px)"},children:[e.jsx("div",{className:l,style:g,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center w-full ",style:o,children:t})}),e.jsx("div",{className:" w-full overflow-x-hidden",style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:r})]})}function L({onClose:t,contactDetails:s}){const[r,l]=d.useState(""),[o,g]=d.useState(""),[y,p]=d.useState(!1),x=window.location.pathname.split("/").at(-1),c=d.useRef(),h=S=>{c.current===S.target&&t()},m=S=>{if(S&&S.target){const{name:D,value:n}=S.target;N(i=>({...i,[D]:n}))}},j=S=>S?new Date(S).toISOString().slice(0,16):"",[f,N]=d.useState({title:s.title,first_name:s.first_name,last_name:s.last_name,organization_name:s.organization_name,deal_size:s.deal_size,email:s.email,phone_number:s.phone_number,stage:s.stage,datetime:j(s.meeting_date),notes:s.notes});let _;f.datetime&&(_=new Date(f.datetime).toISOString());const v=async S=>{S.preventDefault();const D=localStorage.getItem("currentDealId")||x;if(!D){console.error("Deal ID not found in localStorage");return}const n=localStorage.getItem("user");n||(t(),k.fire("Error","You are not allowed to edit this dashboard.","error"));const i={userId:n.id,title:f.title,first_name:f.first_name,last_name:f.last_name,organization_name:f.organization_name,deal_size:f.deal_size,email:f.email,phone_number:f.phone_number,stage:f.stage,meeting_date:_,notes:f.notes};try{await C.patch(`deals/edit-contact/${D}/${s.id}`,i),l("Contact updated successfully."),g(""),setTimeout(()=>{p(!1),l(""),t(),window.location.reload()},2e3)}catch(u){u.response.data.message==="unable to edit contact at this time"&&(t(),k.fire("Error","You are not allowed to edit this dashboard.","error")),console.log(u),g("Something went wrong. Please try again."),l(""),p(!1)}};return e.jsx("div",{ref:c,onClick:h,className:"fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5",children:[e.jsx("button",{onClick:t,className:"mr-20 max-md:mr-10 self-end text-dark-blue",children:e.jsx(ee,{size:30})}),e.jsxs("div",{className:"bg-white rounded-xl px-20 max-md:px-5 py-10 flex flex-col gap-7 items-center mx-20 max-md:mx-10",children:[e.jsx("h1",{className:"text-dark-blue text-3xl max-md:text-2xl max-sm:text-xl font-extrabold",children:"Edit Contact Details"}),e.jsxs("form",{action:"",onSubmit:v,className:"flex flex-col gap-5",children:[r&&e.jsx("p",{className:"text-mansa-blue font-semibold",children:r}),o&&e.jsx("p",{className:"text-[#ff0000] font-semibold",children:o}),e.jsxs("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5 w-full",children:[e.jsx(T,{type:"text",title:"Title",placeholder:"Mr./Mrs./Ms./Dr./Engr.",id:"title",value:f.title,onChange:m}),e.jsx(T,{type:"text",title:"First Name",placeholder:"Sundi",id:"first_name",value:f.first_name,onChange:m}),e.jsx(T,{type:"text",title:"Last Name",placeholder:"Keita",id:"last_name",value:f.last_name,onChange:m}),e.jsx(T,{type:"text",title:"Company",placeholder:"Mansa, LLC",id:"organization_name",value:f.organization_name,onChange:m}),e.jsx(T,{type:"number",title:"Deal Size ($)",placeholder:"1,000,000",id:"deal_size",min:0,value:f.deal_size,onChange:m}),e.jsx(T,{type:"email",title:"Contact Email",placeholder:"sundi@sankore.com",id:"email",value:f.email,onChange:m}),e.jsx(T,{type:"tel",title:"Phone Number",placeholder:"+123456789",id:"phone_number",value:f.phone_number,onChange:m,maxLength:15}),e.jsx(re,{label:"Current Stage",id:"stage",value:f.stage,onChange:m}),e.jsx(ce,{title:"Meeting Date",value:f.datetime,onChange:m})]}),e.jsx("div",{children:e.jsx(de,{value:f.notes,onChange:m})}),e.jsx("div",{className:"mt-8 w-full flex items-center justify-center",children:e.jsx(K,{type:"submit",disabled:y,text:"Update Contact"})})]})]})]})})}const E=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function ye({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(ie(),d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/research-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},_=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},v=()=>{m(!1),f(null)},S=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,D=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{onDoubleClick:()=>_(n.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},title:"Double click to edit contact",children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>N(n.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?S(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?D(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:v,contactDetails:j})]})}function Ne({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/contacted-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},_=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},v=()=>{m(!1),f(null)},S=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,D=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{title:"Double click to edit contact",onDoubleClick:()=>_(n.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>N(n.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?S(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?D(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:v,contactDetails:j})]})}function ve({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/pitch-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,_=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")},v=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},S=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},D=()=>{m(!1),f(null)};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{onDoubleClick:()=>S(n.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>v(n.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?N(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?_(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:D,contactDetails:j})]})}function _e({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/negotiation-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},_=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},v=()=>{m(!1),f(null)},S=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,D=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{onDoubleClick:()=>_(n.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>N(n.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?S(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?D(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:v,contactDetails:j})]})}function Se({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/deal-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,_=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},v=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")},S=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},D=()=>{m(!1),f(null)};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{onDoubleClick:()=>S(n.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl max-w-34 mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>_(n.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?N(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?v(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:D,contactDetails:j})]})}function Ce({borderColour:t}){const s=window.location.pathname.split("/").at(-1),r=localStorage.getItem("currentDealId")||s,l={border:`2px solid  ${t}`},[o,g]=d.useState([]),[y,p]=d.useState(!0),[x,c]=d.useState(null),[h,m]=d.useState(!1),[j,f]=d.useState(null);if(d.useEffect(()=>{(async()=>{const i=localStorage.getItem("currentDealId")||s;if(!i){console.error("Deal ID not found in localStorage");return}try{const u=await C.get(`deals/rejection-contacts/${i}`);g(u.data.data),p(!1)}catch(u){c(u),p(!1)}})()},[]),y)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(x)return e.jsxs("div",{children:["Error: ",x.message]});const N=async n=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async i=>{if(i.isConfirmed)try{await C.delete(`contacts/delete-contact/${r}/${n}`),g(o.filter(u=>u.id!==n)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(u){console.error("Error:",u),k.fire("Error","Failed to delete contact","error")}})},_=async n=>{try{const u=(await C.get(`contacts/single-contact/${r}/${n}`)).data.contact;f(u),m(!0)}catch(i){console.error("Error fetching contact details:",i)}},v=()=>{m(!1),f(null)},S=(n,i)=>n.length<=i?n:`${n.substring(0,i-3)}...`,D=(n,i)=>{const u=n.replace(/\D/g,"");return u.length<=i?n:"+"+(u.substring(0,i-1)+"...")};return e.jsxs(e.Fragment,{children:[o.length===0?e.jsx("div",{}):o.map(n=>e.jsxs("div",{onDoubleClick:()=>_(n.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...l,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${n.first_name} ${n.last_name}`.length>13?`${n.first_name} ${n.last_name}`.substring(0,10)+"...":`${n.first_name} ${n.last_name}`}),e.jsx("button",{onClick:()=>N(n.id),className:"text-white cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:n.organization_name?n.organization_name.length>15?n.organization_name.substring(0,15)+"...":n.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",n.deal_size?n.deal_size.length>15?"$"+E(n.deal_size.substring(0,15))+"...":"$"+E(n.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",n.meeting_date?new Date(n.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:n.email?S(n.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:n.phone_number?D(n.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:n.notes.length>20?n.notes.substring(0,20)+"...":n.notes})})]})]},n.id)),h&&j&&e.jsx(L,{onClose:v,contactDetails:j})]})}function De({borderColour:t,titleColors:s}){const r=window.location.pathname.split("/").at(-1),l=localStorage.getItem("currentDealId")||r,o={border:`2px solid  ${t}`},g=W("shadow-lg","rounded-2xl","w-full"),y={color:s,minWidth:"165px"},p={backgroundColor:"rgb(255, 255, 255)"},[x,c]=d.useState([]),[h,m]=d.useState(!0),[j,f]=d.useState(null),[N,_]=d.useState(!1),[v,S]=d.useState(null);if(d.useEffect(()=>{(async()=>{const b=localStorage.getItem("currentDealId")||r;if(!b){console.error("Deal ID not found in localStorage");return}try{const w=await C.get(`deals/prospect-contacts/${b}`);c(w.data.data),m(!1)}catch(w){f(w),m(!1)}})()},[]),h)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const D=async a=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async b=>{if(b.isConfirmed)try{await C.delete(`contacts/delete-contact/${l}/${a}`),c(x.filter(w=>w.id!==a)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(w){console.error("Error:",w),k.fire("Error","Failed to delete contact","error")}})},n=async a=>{try{const w=(await C.get(`contacts/single-contact/${l}/${a}`)).data.contact;S(w),_(!0)}catch(b){console.error("Error fetching contact details:",b)}},i=()=>{_(!1),S(null)},u=(a,b)=>a.length<=b?a:`${a.substring(0,b-3)}...`,M=(a,b)=>{const w=a.replace(/\D/g,"");return w.length<=b?a:"+"+(w.substring(0,b-1)+"...")};return e.jsxs(e.Fragment,{children:[x.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:g,style:p,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Prospect"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:x.map(a=>e.jsxs("div",{onDoubleClick:()=>n(a.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...o,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${a.first_name} ${a.last_name}`.length>13?`${a.first_name} ${a.last_name}`.substring(0,10)+"...":`${a.first_name} ${a.last_name}`}),e.jsx("button",{onClick:()=>D(a.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:a.organization_name?a.organization_name.length>15?a.organization_name.substring(0,15)+"...":a.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",a.deal_size?a.deal_size.length>15?"$"+E(a.deal_size.substring(0,15))+"...":"$"+E(a.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",a.meeting_date?new Date(a.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:a.email?u(a.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:a.phone_number?M(a.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:a.notes.length>20?a.notes.substring(0,20)+"...":a.notes})})]})]},a.id))})]}):null,N&&v&&e.jsx(L,{onClose:i,contactDetails:v})]})}function ke({borderColour:t,titleColors:s}){const r=window.location.pathname.split("/").at(-1),l=localStorage.getItem("currentDealId")||r,o={border:`2px solid  ${t}`},g=W("shadow-lg","rounded-2xl","w-full"),y={color:s,minWidth:"165px"},p={backgroundColor:"rgb(255, 255, 255)"},[x,c]=d.useState([]),[h,m]=d.useState(!0),[j,f]=d.useState(null),[N,_]=d.useState(!1),[v,S]=d.useState(null);if(d.useEffect(()=>{(async()=>{const b=localStorage.getItem("currentDealId")||r;if(!b){console.error("Deal ID not found in localStorage");return}try{const w=await C.get(`deals/review-contacts/${b}`);c(w.data.data),m(!1)}catch(w){f(w),m(!1)}})()},[]),h)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const D=async a=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async b=>{if(b.isConfirmed)try{await C.delete(`contacts/delete-contact/${l}/${a}`),c(x.filter(w=>w.id!==a)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(w){console.error("Error:",w),k.fire("Error","Failed to delete contact","error")}})},n=(a,b)=>a.length<=b?a:`${a.substring(0,b-3)}...`,i=async a=>{try{const w=(await C.get(`contacts/single-contact/${l}/${a}`)).data.contact;S(w),_(!0)}catch(b){console.error("Error fetching contact details:",b)}},u=()=>{_(!1),S(null)},M=(a,b)=>{const w=a.replace(/\D/g,"");return w.length<=b?a:"+"+(w.substring(0,b-1)+"...")};return e.jsxs(e.Fragment,{children:[x.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:g,style:p,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Review"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:x.map(a=>e.jsxs("div",{title:"Double click to edit contact",onDoubleClick:()=>i(a.id),className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer ",style:{...o,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${a.first_name} ${a.last_name}`.length>13?`${a.first_name} ${a.last_name}`.substring(0,10)+"...":`${a.first_name} ${a.last_name}`}),e.jsx("button",{onClick:()=>D(a.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:a.organization_name?a.organization_name.length>15?a.organization_name.substring(0,15)+"...":a.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",a.deal_size?a.deal_size.length>15?"$"+E(a.deal_size.substring(0,15))+"...":"$"+E(a.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",a.meeting_date?new Date(a.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:a.email?n(a.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:a.phone_number?M(a.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:a.notes.length>20?a.notes.substring(0,20)+"...":a.notes})})]})]},a.id))})]}):null,N&&v&&e.jsx(L,{onClose:u,contactDetails:v})]})}function $e({borderColour:t,titleColors:s}){const r=window.location.pathname.split("/").at(-1),l=localStorage.getItem("currentDealId")||r,o={border:`2px solid  ${t}`},g=W("shadow-lg","rounded-2xl","w-full"),y={color:s,minWidth:"165px"},p={backgroundColor:"rgb(255, 255, 255)"},[x,c]=d.useState([]),[h,m]=d.useState(!0),[j,f]=d.useState(null),[N,_]=d.useState(!1),[v,S]=d.useState(null);if(d.useEffect(()=>{(async()=>{const b=localStorage.getItem("currentDealId")||r;if(!b){console.error("Deal ID not found in localStorage");return}try{const w=await C.get(`deals/partner-contacts/${b}`);c(w.data.data),m(!1)}catch(w){f(w),m(!1)}})()},[]),h)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const D=async a=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async b=>{if(b.isConfirmed)try{await C.delete(`contacts/delete-contact/${l}/${a}`),c(x.filter(w=>w.id!==a)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(w){console.error("Error:",w),k.fire("Error","Failed to delete contact","error")}})},n=async a=>{try{const w=(await C.get(`contacts/single-contact/${l}/${a}`)).data.contact;S(w),_(!0)}catch(b){console.error("Error fetching contact details:",b)}},i=()=>{_(!1),S(null)},u=(a,b)=>a.length<=b?a:`${a.substring(0,b-3)}...`,M=(a,b)=>{const w=a.replace(/\D/g,"");return w.length<=b?a:"+"+(w.substring(0,b-1)+"...")};return e.jsxs(e.Fragment,{children:[x.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:g,style:p,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Partner"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:x.map(a=>e.jsxs("div",{onDoubleClick:()=>n(a.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...o,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${a.first_name} ${a.last_name}`.length>13?`${a.first_name} ${a.last_name}`.substring(0,10)+"...":`${a.first_name} ${a.last_name}`}),e.jsx("button",{onClick:()=>D(a.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:a.organization_name?a.organization_name.length>15?a.organization_name.substring(0,15)+"...":a.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",a.deal_size?a.deal_size.length>15?"$"+E(a.deal_size.substring(0,15))+"...":"$"+E(a.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",a.meeting_date?new Date(a.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:a.email?u(a.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:a.phone_number?M(a.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:a.notes.length>20?a.notes.substring(0,20)+"...":a.notes})})]})]},a.id))})]}):null,N&&v&&e.jsx(L,{onClose:i,contactDetails:v})]})}function Ee({borderColour:t,titleColors:s}){const r=window.location.pathname.split("/").at(-1),l=localStorage.getItem("currentDealId")||r,o={border:`2px solid  ${t}`},g=W("shadow-lg","rounded-2xl","w-full"),y={color:s,minWidth:"165px"},p={backgroundColor:"rgb(255, 255, 255)"},[x,c]=d.useState([]),[h,m]=d.useState(!0),[j,f]=d.useState(null),[N,_]=d.useState(!1),[v,S]=d.useState(null);if(d.useEffect(()=>{(async()=>{const b=localStorage.getItem("currentDealId")||r;if(!b){console.error("Deal ID not found in localStorage");return}try{const w=await C.get(`deals/offer-contacts/${b}`);c(w.data.data),m(!1)}catch(w){f(w),m(!1)}})()},[]),h)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const D=async a=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async b=>{if(b.isConfirmed)try{await C.delete(`contacts/delete-contact/${l}/${a}`),c(x.filter(w=>w.id!==a)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(w){console.error("Error:",w),k.fire("Error","Failed to delete contact","error")}})},n=async a=>{try{const w=(await C.get(`contacts/single-contact/${l}/${a}`)).data.contact;S(w),_(!0)}catch(b){console.error("Error fetching contact details:",b)}},i=()=>{_(!1),S(null)},u=(a,b)=>a.length<=b?a:`${a.substring(0,b-3)}...`,M=(a,b)=>{const w=a.replace(/\D/g,"");return w.length<=b?a:"+"+(w.substring(0,b-1)+"...")};return e.jsxs(e.Fragment,{children:[x.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:g,style:p,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Term Sheet"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:x.map(a=>e.jsxs("div",{onDoubleClick:()=>n(a.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...o,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${a.first_name} ${a.last_name}`.length>13?`${a.first_name} ${a.last_name}`.substring(0,10)+"...":`${a.first_name} ${a.last_name}`}),e.jsx("button",{onClick:()=>D(a.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:a.organization_name?a.organization_name.length>15?a.organization_name.substring(0,15)+"...":a.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",a.deal_size?a.deal_size.length>15?"$"+E(a.deal_size.substring(0,15))+"...":"$"+E(a.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",a.meeting_date?new Date(a.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:a.email?u(a.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:a.phone_number?M(a.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:a.notes.length>20?a.notes.substring(0,20)+"...":a.notes})})]})]},a.id))})]}):null,N&&v&&e.jsx(L,{onClose:i,contactDetails:v})]})}function Ie({borderColour:t,titleColors:s}){const r=window.location.pathname.split("/").at(-1),l=localStorage.getItem("currentDealId")||r,o={border:`2px solid  ${t}`},g=W("shadow-lg","rounded-2xl","w-full"),y={color:s,minWidth:"165px"},p={backgroundColor:"rgb(255, 255, 255)"},[x,c]=d.useState([]),[h,m]=d.useState(!0),[j,f]=d.useState(null),[N,_]=d.useState(!1),[v,S]=d.useState(null);if(d.useEffect(()=>{(async()=>{const b=localStorage.getItem("currentDealId")||r;if(!b){console.error("Deal ID not found in localStorage");return}try{const w=await C.get(`deals/followup-contacts/${b}`);c(w.data.data),m(!1)}catch(w){f(w),m(!1)}})()},[]),h)return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(P,{visible:!0,height:20,width:20,color:"#32384b",ariaLabel:"oval-loading",wrapperStyle:{},wrapperClass:""})});if(j)return e.jsxs("div",{children:["Error: ",j.message]});const D=async a=>{k.fire({title:"Are you sure?",text:"You will not be able to recover this contact entry!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(async b=>{if(b.isConfirmed)try{await C.delete(`contacts/delete-contact/${l}/${a}`),c(x.filter(w=>w.id!==a)),k.fire("Deleted!","Your contact entry has been deleted.","success")}catch(w){console.error("Error:",w),k.fire("Error","Failed to delete contact","error")}})},n=async a=>{try{const w=(await C.get(`contacts/single-contact/${l}/${a}`)).data.contact;S(w),_(!0)}catch(b){console.error("Error fetching contact details:",b)}},i=()=>{_(!1),S(null)},u=(a,b)=>a.length<=b?a:`${a.substring(0,b-3)}...`,M=(a,b)=>{const w=a.replace(/\D/g,"");return w.length<=b?a:"+"+(w.substring(0,b-1)+"...")};return e.jsxs(e.Fragment,{children:[x.length>0?e.jsxs("div",{className:" flex flex-col gap-5 items-center",children:[e.jsx("div",{className:g,style:p,children:e.jsx("div",{className:"font-bold text-xl p-5 text-center",style:y,children:"Follow-up"})}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:x.map(a=>e.jsxs("div",{onDoubleClick:()=>n(a.id),title:"Double click to edit contact",className:"flex flex-col rounded-2xl mb-2 h-44 cursor-pointer",style:{...o,minWidth:"165px"},children:[e.jsxs("div",{className:"flex flex-col p-2 rounded-t-2xl border-b-dark-blue items-start",style:{background:t},children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("p",{className:"font-extrabold text-sm text-white",children:`${a.first_name} ${a.last_name}`.length>13?`${a.first_name} ${a.last_name}`.substring(0,10)+"...":`${a.first_name} ${a.last_name}`}),e.jsx("button",{onClick:()=>D(a.id),className:"text-white hover:text-[#FF0000] cursor-pointer",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-white",children:a.organization_name?a.organization_name.length>13?a.organization_name.substring(0,10)+"...":a.organization_name:"No company entered"})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 items-start bg-light-grey rounded-2xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold",children:["Deal Size: ",a.deal_size?a.deal_size.length>15?"$"+E(a.deal_size.substring(0,15))+"...":"$"+E(a.deal_size):"$0"]}),e.jsxs("p",{className:"text-xs font-semibold",children:["Meeting: ",a.meeting_date?new Date(a.meeting_date).toLocaleString():"No meeting date entered"]}),e.jsx("p",{className:"text-xs",children:a.email?u(a.email,20):"No email entered"}),e.jsx("p",{className:"text-xs",children:a.phone_number?M(a.phone_number,15):"No phone number entered"})]}),e.jsx("div",{className:"flex flex-col justify-center items-start",children:e.jsx("p",{className:"text-xs text-wrap",children:a.notes.length>20?a.notes.substring(0,20)+"...":a.notes})})]})]},a.id))})]}):null,N&&v&&e.jsx(L,{onClose:i,contactDetails:v})]})}const ze=()=>{const t=e.jsx(ye,{borderColour:"rgb(0, 0, 139)"}),s=e.jsx(Ne,{borderColour:"#87CEEB"}),r=e.jsx(ve,{borderColour:"#08a5aa"}),l=e.jsx(_e,{borderColour:"orange"}),o=e.jsx(Se,{borderColour:"green"}),g=e.jsx(Ce,{borderColour:"#FF0000"});return e.jsxs("div",{className:"flex gap-2 pb-10 w-full overflow-y-auto overflow-x-auto",children:[e.jsx(V,{titles:"Research",titleColors:"rgb(0, 0, 139)",contents:t}),e.jsx(De,{borderColour:"rgb(115, 147, 179)",titleColors:"rgb(115, 147, 179)"}),e.jsx(V,{titles:"Contacted",titleColors:"#87CEEB",contents:s}),e.jsx(V,{titles:"Pitch",titleColors:"#08a5aa",contents:r}),e.jsx(ke,{borderColour:"#FDDC5C",titleColors:"#FDDC5C"}),e.jsx($e,{borderColour:"#E67451",titleColors:"#E67451"}),e.jsx(Ee,{titleColors:"#000000",borderColour:"#000000"}),e.jsx(V,{titles:"Negotiation",titleColors:"orange",contents:l}),e.jsx(V,{titles:"Deal",titleColors:"green",contents:o}),e.jsx(Ie,{borderColour:"#D3D3D3",titleColors:"#D3D3D3"}),e.jsx(V,{titles:"Not a Fit",titleColors:"#FF0000",contents:g})]})};function Me({onClose:t}){const s=d.useRef(),r=f=>{s.current===f.target&&t()},[l,o]=d.useState({firstName:"",lastName:"",moveContact:""}),[g,y]=d.useState(""),[p,x]=d.useState(""),[c,h]=d.useState(!1),m=f=>{if(f&&f.target){const{name:N,value:_}=f.target;o(v=>({...v,[N]:_}))}},j=async f=>{f.preventDefault();const N=localStorage.getItem("currentDealId");if(!N){console.error("Deal ID not found in localStorage");return}const _={first_name:l.firstName,last_name:l.lastName,stage:l.moveContact};try{const v=await C.patch(`/deals/change-stage/${N}`,_);console.log(v),y("Contact moved successfully."),window.location.reload(),x(""),o({firstName:"",lastName:"",moveContact:""}),setTimeout(()=>{h(!1),y(""),t()},2e3)}catch(v){console.log(v),x("Something went wrong. Please try again."),y(""),h(!1)}};return e.jsx("div",{ref:s,onClick:r,className:" fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5",children:[e.jsx("button",{onClick:t,className:" place-self-end text-dark-blue",children:e.jsx(ee,{size:30})}),e.jsxs("div",{className:" bg-white rounded-xl px-20 py-10 flex flex-col gap-7 items-center mx-4",children:[e.jsx("h1",{className:" text-dark-blue text-3xl font-extrabold",children:"Move contacts within your pipeline"}),e.jsxs("form",{action:"",onSubmit:j,className:" flex flex-col gap-5",children:[g&&e.jsx("p",{className:" text-mansa-blue font-semibold",children:g}),p&&e.jsx("p",{className:" text-[#ff0000] font-semibold",children:p}),e.jsxs("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5",children:[e.jsx(U,{type:"text",title:"First Name*",placeholder:"Sundi",id:"firstName",value:l.firstName,onChange:m}),e.jsx(U,{type:"text",title:"Last Name*",placeholder:"Keita",id:"lastName",value:l.lastName,onChange:m})]}),e.jsx("div",{className:"flex flex-row items-center justify-center flex-wrap gap-5",children:e.jsx(re,{label:"Move Contact To",id:"moveContact",value:l.moveContact,onChange:m})}),e.jsx("div",{className:" mt-8 w-full flex items-center justify-center",children:e.jsx(K,{type:"submit",disabled:c,text:"Move Contact"})})]})]})]})})}var se={exports:{}},ae={exports:{}},A=1e3,R=A*60,q=R*60,J=q*24,Be=J*365.25,Te=function(t,s){s=s||{};var r=typeof t;if(r==="string"&&t.length>0)return Pe(t);if(r==="number"&&isNaN(t)===!1)return s.long?Le(t):Fe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Pe(t){if(t=String(t),!(t.length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(s){var r=parseFloat(s[1]),l=(s[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return r*Be;case"days":case"day":case"d":return r*J;case"hours":case"hour":case"hrs":case"hr":case"h":return r*q;case"minutes":case"minute":case"mins":case"min":case"m":return r*R;case"seconds":case"second":case"secs":case"sec":case"s":return r*A;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Fe(t){return t>=J?Math.round(t/J)+"d":t>=q?Math.round(t/q)+"h":t>=R?Math.round(t/R)+"m":t>=A?Math.round(t/A)+"s":t+"ms"}function Le(t){return Q(t,J,"day")||Q(t,q,"hour")||Q(t,R,"minute")||Q(t,A,"second")||t+" ms"}function Q(t,s,r){if(!(t<s))return t<s*1.5?Math.floor(t/s)+" "+r:Math.ceil(t/s)+" "+r+"s"}(function(t,s){s=t.exports=o.debug=o.default=o,s.coerce=x,s.disable=y,s.enable=g,s.enabled=p,s.humanize=Te,s.names=[],s.skips=[],s.formatters={};var r;function l(c){var h=0,m;for(m in c)h=(h<<5)-h+c.charCodeAt(m),h|=0;return s.colors[Math.abs(h)%s.colors.length]}function o(c){function h(){if(h.enabled){var m=h,j=+new Date,f=j-(r||j);m.diff=f,m.prev=r,m.curr=j,r=j;for(var N=new Array(arguments.length),_=0;_<N.length;_++)N[_]=arguments[_];N[0]=s.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");var v=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,function(D,n){if(D==="%%")return D;v++;var i=s.formatters[n];if(typeof i=="function"){var u=N[v];D=i.call(m,u),N.splice(v,1),v--}return D}),s.formatArgs.call(m,N);var S=h.log||s.log||console.log.bind(console);S.apply(m,N)}}return h.namespace=c,h.enabled=s.enabled(c),h.useColors=s.useColors(),h.color=l(c),typeof s.init=="function"&&s.init(h),h}function g(c){s.save(c),s.names=[],s.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),m=h.length,j=0;j<m;j++)h[j]&&(c=h[j].replace(/\*/g,".*?"),c[0]==="-"?s.skips.push(new RegExp("^"+c.substr(1)+"$")):s.names.push(new RegExp("^"+c+"$")))}function y(){s.enable("")}function p(c){var h,m;for(h=0,m=s.skips.length;h<m;h++)if(s.skips[h].test(c))return!1;for(h=0,m=s.names.length;h<m;h++)if(s.names[h].test(c))return!0;return!1}function x(c){return c instanceof Error?c.stack||c.message:c}})(ae,ae.exports);var We=ae.exports;(function(t,s){var r={};s=t.exports=We,s.log=g,s.formatArgs=o,s.save=y,s.load=p,s.useColors=l,s.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),s.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function l(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function o(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+s.humanize(this.diff),!!h){var m="color: "+this.color;c.splice(1,0,m,"color: inherit");var j=0,f=0;c[0].replace(/%[a-zA-Z%]/g,function(N){N!=="%%"&&(j++,N==="%c"&&(f=j))}),c.splice(f,0,m)}}function g(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function y(c){try{c==null?s.storage.removeItem("debug"):s.storage.debug=c}catch{}}function p(){var c;try{c=s.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=r.DEBUG),c}s.enable(p());function x(){try{return window.localStorage}catch{}}})(se,se.exports);var Ye=se.exports,le=Ye("jsonp"),He=Ke,Oe=0;function Ve(){}function Ke(t,s,r){typeof s=="function"&&(r=s,s={}),s||(s={});var l=s.prefix||"__jp",o=s.name||l+Oe++,g=s.param||"callback",y=s.timeout!=null?s.timeout:6e4,p=encodeURIComponent,x=document.getElementsByTagName("script")[0]||document.head,c,h;y&&(h=setTimeout(function(){m(),r&&r(new Error("Timeout"))},y));function m(){c.parentNode&&c.parentNode.removeChild(c),window[o]=Ve,h&&clearTimeout(h)}function j(){window[o]&&m()}return window[o]=function(f){le("jsonp got",f),m(),r&&r(null,f)},t+=(~t.indexOf("?")?"&":"?")+g+"="+p(o),t=t.replace("?&","?"),le('jsonp req "%s"',t),c=document.createElement("script"),c.src=t,x.parentNode.insertBefore(c,x),j}const H=xe(He);var Ae=Object.defineProperty,Re=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,oe=(t,s,r)=>s in t?Ae(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,B=(t,s)=>{for(var r in s||(s={}))me.call(s,r)&&oe(t,r,s[r]);if(G)for(var r of G(s))he.call(s,r)&&oe(t,r,s[r]);return t},te=(t,s)=>Re(t,qe(s)),ne=(t,s)=>{var r={};for(var l in t)me.call(t,l)&&s.indexOf(l)<0&&(r[l]=t[l]);if(t!=null&&G)for(var l of G(t))s.indexOf(l)<0&&he.call(t,l)&&(r[l]=t[l]);return r};function X(t){return r=>{var l=r,{bgStyle:o={},borderRadius:g=0,iconFillColor:y="white",round:p=!1,size:x=64}=l,c=ne(l,["bgStyle","borderRadius","iconFillColor","round","size"]);return e.jsxs("svg",te(B({viewBox:"0 0 64 64",width:x,height:x},c),{children:[p?e.jsx("circle",{cx:"32",cy:"32",r:"32",fill:t.color,style:o}):e.jsx("rect",{width:"64",height:"64",rx:g,ry:g,fill:t.color,style:o}),e.jsx("path",{d:t.path,fill:y})]}))}}const Je=X({color:"#7f7f7f",networkName:"email",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"}),Xe=Je;function $(t){const s=Object.entries(t).filter(([,r])=>r!=null).map(([r,l])=>`${encodeURIComponent(r)}=${encodeURIComponent(String(l))}`);return s.length>0?`?${s.join("&")}`:""}const Ze=t=>!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function",Qe=(t,s)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-s/2}),Ue=(t,s)=>({top:(window.screen.height-s)/2,left:(window.screen.width-t)/2});function Ge(t,s,r){var l=s,{height:o,width:g}=l,y=ne(l,["height","width"]);const p=B({height:o,width:g,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},y),x=window.open(t,"",Object.keys(p).map(c=>`${c}=${p[c]}`).join(", "));if(r){const c=window.setInterval(()=>{try{(x===null||x.closed)&&(window.clearInterval(c),r(x))}catch(h){console.error(h)}},1e3)}return x}function et(t){var s=t,{beforeOnClick:r,children:l,className:o,disabled:g,disabledStyle:y={opacity:.6},forwardedRef:p,htmlTitle:x,networkLink:c,networkName:h,onClick:m,onShareWindowClose:j,openShareDialogOnClick:f=!0,opts:N,resetButtonStyle:_=!0,style:v,url:S,windowHeight:D=400,windowPosition:n="windowCenter",windowWidth:i=550}=s,u=ne(s,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"]);const M=async w=>{const Y=c(S,N);if(!g){if(w.preventDefault(),r){const Z=r();Ze(Z)&&await Z}if(f){const Z=B({height:D,width:i},n==="windowCenter"?Qe(i,D):Ue(i,D));Ge(Y,Z,j)}m&&m(w,Y)}},a=W("react-share__ShareButton",{"react-share__ShareButton--disabled":!!g,disabled:!!g},o),b=B(B(_?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},v),g&&y);return e.jsx("button",te(B({},u),{className:a,onClick:M,ref:p,style:b,title:x,children:l}))}function z(t,s,r,l){function o(g,y){const p=r(g),x=B({},g);return Object.keys(p).forEach(h=>{delete x[h]}),e.jsx(et,te(B(B({},l),x),{forwardedRef:y,networkName:t,networkLink:s,opts:r(g)}))}return o.displayName=`ShareButton-${t}`,d.forwardRef(o)}function tt(t,{subject:s,body:r,separator:l}){return"mailto:"+$({subject:s,body:r?r+l+t:t})}const nt=z("email",tt,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,s)=>{window.location.href=s}}),st=nt,at=X({color:"#0965FE",networkName:"facebook",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),rt=at;function lt(t,{appId:s,redirectUri:r,to:l}){return"https://www.facebook.com/dialog/send"+$({link:t,redirect_uri:r||t,app_id:s,to:l})}z("facebookmessenger",lt,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});class ot extends Error{constructor(s){super(s),this.name="AssertionError"}}function I(t,s){if(!t)throw new ot(s)}function it(t,{hashtag:s}){return I(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+$({u:t,hashtag:s})}const ct=z("facebook",it,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400}),dt=ct;function ut(){const t=d.useRef(!1);return d.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),d.useCallback(()=>t.current,[])}function mt(t){var s=t,{children:r=j=>j,className:l,getCount:o,url:g}=s,y=ne(s,["children","className","getCount","url"]);const p=ut(),[x,c]=d.useState(void 0),[h,m]=d.useState(!1);return d.useEffect(()=>{m(!0),o(g,j=>{p()&&(c(j),m(!1))})},[g]),e.jsx("span",te(B({className:W("react-share__ShareCount",l)},y),{children:!h&&x!==void 0&&r(x)}))}function O(t){const s=r=>e.jsx(mt,B({getCount:t},r));return s.displayName=`ShareCount(${t.name})`,s}function ht(t,s){const r=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;H(r,(l,o)=>{s(!l&&o&&o.og_object&&o.og_object.engagement?o.og_object.engagement.count:void 0)})}O(ht);function xt(t,{title:s}){return I(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${s}`}z("hatena",xt,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function ft(t,s){H("https://bookmark.hatenaapis.com/count/entry"+$({url:t}),(l,o)=>{s(o??void 0)})}O(ft);function gt(t,{title:s,description:r}){return I(t,"instapaper.url"),"http://www.instapaper.com/hello2"+$({url:t,title:s,description:r})}z("instapaper",gt,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function pt(t,{title:s}){return I(t,"line.url"),"https://social-plugins.line.me/lineit/share"+$({url:t,text:s})}z("line",pt,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function bt(t,{title:s,summary:r,source:l}){return I(t,"linkedin.url"),"https://linkedin.com/shareArticle"+$({url:t,mini:"true",title:s,summary:r,source:l})}z("linkedin",bt,({title:t,summary:s,source:r})=>({title:t,summary:s,source:r}),{windowWidth:750,windowHeight:600});function wt(t,{title:s,description:r}){return I(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+$({subject:s,event:r})}z("livejournal",wt,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function jt(t,{title:s,description:r,imageUrl:l}){return I(t,"mailru.url"),"https://connect.mail.ru/share"+$({url:t,title:s,description:r,image_url:l})}z("mailru",jt,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function yt(t,{title:s,description:r,image:l}){return I(t,"ok.url"),"https://connect.ok.ru/offer"+$({url:t,title:s,description:r,imageUrl:l})}z("ok",yt,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function Nt(t,s){window.OK||(window.OK={Share:{count:function(g,y){var p,x;(x=(p=window.OK.callbacks)[g])==null||x.call(p,y)}},callbacks:[]});const r="https://connect.ok.ru/dk",l=window.OK.callbacks.length;return window.ODKL={updateCount(o,g){var y,p;const x=o===""?0:parseInt(o.replace("react-share-",""),10);(p=(y=window.OK.callbacks)[x])==null||p.call(y,g===""?void 0:parseInt(g,10))}},window.OK.callbacks.push(s),H(r+$({"st.cmd":"extLike",uid:`react-share-${l}`,ref:t}))}O(Nt);function vt(t,{media:s,description:r,pinId:l}){return l?`https://pinterest.com/pin/${l}/repin/x/`:(I(t,"pinterest.url"),I(s,"pinterest.media"),"https://pinterest.com/pin/create/button/"+$({url:t,media:s,description:r}))}z("pinterest",vt,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function _t(t,s){H("https://api.pinterest.com/v1/urls/count.json"+$({url:t}),(l,o)=>{s(o?o.count:void 0)})}O(_t);function St(t,{title:s}){return I(t,"pocket.url"),"https://getpocket.com/save"+$({url:t,title:s})}z("pocket",St,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function Ct(t,{title:s}){return I(t,"reddit.url"),"https://www.reddit.com/submit"+$({url:t,title:s})}z("reddit",Ct,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Dt(t,{title:s}){return I(t,"gab.url"),"https://gab.com/compose"+$({url:t,text:s})}z("gab",Dt,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function kt(t,s){const r=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;H(r,{param:"jsonp"},(l,o)=>{s(!l&&o&&o.data&&o.data.children.length>0&&o.data.children[0].data.score?o.data.children[0].data.score:void 0)})}O(kt);const $t=X({color:"#25A3E3",networkName:"telegram",path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"}),Et=$t;function It(t,{title:s}){return I(t,"telegram.url"),"https://telegram.me/share/url"+$({url:t,text:s})}const zt=z("telegram",It,t=>({title:t.title}),{windowWidth:550,windowHeight:400}),Mt=zt;function Bt(t,{title:s,caption:r,tags:l,posttype:o}){return I(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+$({canonicalUrl:t,title:s,caption:r,tags:l,posttype:o})}z("tumblr",Bt,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function Tt(t,s){return H("https://api.tumblr.com/v2/share/stats"+$({url:t}),(l,o)=>{s(!l&&o&&o.response?o.response.note_count:void 0)})}O(Tt);const Pt=X({color:"#00aced",networkName:"twitter",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"}),Ft=Pt;function Lt(t,{title:s,via:r,hashtags:l=[],related:o=[]}){return I(t,"twitter.url"),I(Array.isArray(l),"twitter.hashtags is not an array"),I(Array.isArray(o),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+$({url:t,text:s,via:r,hashtags:l.length>0?l.join(","):void 0,related:o.length>0?o.join(","):void 0})}const Wt=z("twitter",Lt,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400}),Yt=Wt;function Ht(t,{title:s,separator:r}){return I(t,"viber.url"),"viber://forward"+$({text:s?s+r+t:t})}z("viber",Ht,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function Ot(t,{title:s,image:r,noParse:l,noVkLinks:o}){return I(t,"vk.url"),"https://vk.com/share.php"+$({url:t,title:s,image:r,noparse:l?1:0,no_vk_links:o?1:0})}z("vk",Ot,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function Vt(t,s){window.VK||(window.VK={}),window.VK.Share={count:(o,g)=>{var y,p;return(p=(y=window.VK.callbacks)==null?void 0:y[o])==null?void 0:p.call(y,g)}},window.VK.callbacks=[];const r="https://vk.com/share.php",l=window.VK.callbacks.length;return window.VK.callbacks.push(s),H(r+$({act:"count",index:l,url:t}))}O(Vt);function Kt(t,{title:s,image:r}){return I(t,"weibo.url"),"http://service.weibo.com/share/share.php"+$({url:t,title:s,pic:r})}z("weibo",Kt,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const At=X({color:"#25D366",networkName:"whatsapp",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"}),Rt=At;function qt(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function Jt(t,{title:s,separator:r}){return I(t,"whatsapp.url"),"https://"+(qt()?"api":"web")+".whatsapp.com/send"+$({text:s?s+r+t:t})}const Xt=z("whatsapp",Jt,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400}),Zt=Xt;function Qt(t,{quote:s,hashtag:r}){return I(t,"workplace.url"),"https://work.facebook.com/sharer.php"+$({u:t,quote:s,hashtag:r})}z("workplace",Qt,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function Ut({onClose:t,dealDetail:s}){const[r,l]=d.useState(!1),o=d.useRef(),g=JSON.parse(localStorage.getItem("user")),y=m=>{o.current===m.target&&t()},p=`https://crm.mansastars.com${window.location.pathname}`,x=`Hi, ${g.first_name} ${g.last_name} has invited you to collaborate on the Mansa CRM Project titled "${s.deal_name}". Mansas CRM helps you manage your leads, target prospects, dealflow and manage follow-ups efficiently and affordably. Click the link below to accept the invitation and get started!`,c="Check out this dashboard",h=()=>{navigator.clipboard.writeText(p),l(!0),setTimeout(()=>{l(!1)},2e3)};return e.jsx("div",{ref:o,onClick:y,className:" fixed z-50 inset-0 bg-dark-blue bg-opacity-30 backdrop-blur-sm flex justify-center overflow-y-auto h-screen",children:e.jsxs("div",{className:" mt-10 flex flex-col gap-5",children:[e.jsx("button",{onClick:t,className:" place-self-end text-red-600",children:e.jsx(ee,{size:30})}),e.jsxs("div",{className:" bg-white rounded-xl px-10 py-10 flex flex-col gap-5 items-center mx-4",children:[e.jsx("h1",{className:" text-dark-blue text-3xl font-extrabold mb-5",children:"Share Dashboard"}),e.jsxs("div",{className:" flex max-md:flex-wrap items-center justify-center gap-5 text-dark-blue font-semibold",children:[e.jsxs("div",{className:" flex flex-col gap-5 items-center justify-center",children:[e.jsx(st,{url:p,subject:c,body:x,children:e.jsx(Xe,{size:40,round:!0})}),e.jsx("p",{children:"Email"})]}),e.jsxs("div",{className:" flex flex-col gap-5 items-center justify-center",children:[e.jsx(Zt,{url:p,title:x,separator:" ",children:e.jsx(Rt,{size:40,round:!0})}),e.jsx("p",{children:"WhatsApp"})]}),e.jsxs("div",{className:" flex flex-col gap-5 items-center justify-center",children:[e.jsx(Yt,{url:p,title:x,children:e.jsx(Ft,{size:40,round:!0})}),e.jsx("p",{children:"X"})]}),e.jsxs("div",{className:" flex flex-col gap-5 items-center justify-center",children:[e.jsx(dt,{url:p,title:x,children:e.jsx(rt,{size:40,round:!0})}),e.jsx("p",{children:"Facebook"})]}),e.jsxs("div",{className:" flex flex-col gap-5 items-center justify-center",children:[e.jsx(Mt,{url:p,title:x,children:e.jsx(Et,{size:40,round:!0})}),e.jsx("p",{children:"Telegram"})]})]}),e.jsxs("div",{className:"flex flex-col gap-5 mt-3 text-dark-blue w-full",children:[e.jsx("p",{className:" text-xl font-bold",children:"Page Link"}),e.jsxs("div",{onClick:h,className:" flex items-center justify-between gap-10 py-3 px-5 bg-gray-200 rounded-lg w-full cursor-pointer",children:[e.jsx("p",{className:" text-dark-blue font-semibold",children:p}),e.jsx(be,{size:32,className:" text-mansa-blue hover:text-dark-blue"})]}),r&&e.jsx("p",{className:" text-mansa-blue text-base",children:"Link copied to clipboard!"})]})]})]})})}function Gt({dealDetail:t}){const[s,r]=d.useState(!1);return e.jsxs("div",{children:[e.jsxs("button",{className:`
        flex gap-5 border-4 border-dark-blue  active:bg-dark-blue active:text-white
        text-dark-blue px-5 max-md:px-2 py-2 max-md:py-1 rounded-xl transition-all duration-200 shadow
        hover:bg-dark-blue hover:text-white
        `,onClick:()=>r(!0),children:[e.jsx(we,{}),e.jsx("p",{className:" font-bold text-lg max-md:hidden",children:"Share"})]}),s&&e.jsx(Ut,{onClose:()=>r(!1),dealDetail:t})]})}function cn(){ie(),fe();const[t,s]=d.useState(!1),[r,l]=d.useState(!1),[o,g]=d.useState([]),y=window.location.pathname.split("/").at(-1),[p,x]=d.useState("");localStorage.setItem("currentDealId",y);const c=localStorage.getItem("currentDealId"),h=JSON.parse(localStorage.getItem("user"));return d.useEffect(()=>{(async()=>{if(c)try{const j=await C.get(`deals/single-deal/${c}`);x(j.data.deal.owner_id);const f=j.data.deal;g(f)}catch(j){console.error("Error fetching a single deal:",j)}else console.error("Current deal ID not found in localStorage")})()},[c]),e.jsxs("div",{children:[e.jsx("div",{className:" sticky top-0 z-50",children:e.jsx(pe,{})}),e.jsxs("div",{className:" flex gap-3 h-screen",children:[e.jsx("div",{className:"",children:e.jsx(ge,{})}),e.jsxs("div",{className:" flex flex-col gap-2 w-full mr-2 overflow-auto pt-2",children:[h&&h.id===p&&e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:" flex items-center gap-4",children:[e.jsx("div",{onClick:()=>s(!0),className:"flex",children:e.jsx(K,{text:"Add a New Contact"})}),e.jsx("div",{onClick:()=>l(!0),className:"flex",children:e.jsx(K,{text:"Move a Contact"})})]}),e.jsx("div",{className:"",children:e.jsx(Gt,{dealDetail:o})})]}),e.jsxs("div",{className:"flex flex-row w-full items-center",children:[e.jsx("div",{className:" bg-dark-blue text-white font-bold text-2xl py-6 rounded-l-xl w-[40%] text-center",children:o&&o.deal_name&&o.deal_name.length>15?`${o.deal_name.substring(0,15)}...`:o&&o.deal_name}),e.jsxs("div",{className:" flex flex-col w-[60%]",children:[e.jsxs("div",{className:" bg-mansa-blue text-white py-2 text-center rounded-tr-xl",children:["Deal Size Amount: ",e.jsxs("span",{className:" font-semibold",children:["$",o.deal_size?E(o.deal_size):"0"]})]}),e.jsxs("div",{className:" flex flex-row  ",children:[e.jsxs("div",{className:" bg-[orange] text-white w-1/2 max-md:w-full py-2 pl-5",children:["In-Negotiation Value: ",e.jsxs("span",{className:" font-semibold",children:["$",o.negotiation_value?E(o.negotiation_value):"0"]})]}),e.jsxs("div",{className:" bg-[green] text-white w-1/2 max-md:w-full py-2 pl-5 rounded-br-xl",children:["Deal Signed Value: ",e.jsxs("span",{className:" font-semibold",children:["$",o.signed_value?E(o.signed_value):"0"]})]})]})]})]}),e.jsx(ze,{})]}),t&&e.jsx(je,{onClose:()=>s(!1)}),r&&e.jsx(Me,{onClose:()=>l(!1)})]})]})}export{cn as default};
