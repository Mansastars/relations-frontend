import{r as s,u as D,j as e,L as w,a as j}from"./index-Dtw62byC.js";import{c as S}from"./createLucideIcon-U_qs-zyZ.js";import{T as N}from"./SidePanel-DEDckjhE.js";/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=S("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function M(){const[a,m]=s.useState(0),[I,d]=s.useState(""),[u,f]=s.useState(""),[T,i]=s.useState(""),[p,x]=s.useState(!1);D();const h=JSON.parse(localStorage.getItem("user")),c=localStorage.getItem("showBanner");s.useEffect(()=>{const t=JSON.parse(localStorage.getItem("user"));t&&(f(t.id),d(t.email),t.subscription_name===null?i(""):i(t.subscription_name))},[]),s.useEffect(()=>{const t=new Date(h.createdAt),n=new Date(t);n.setDate(t.getDate()+7);const r=n-new Date,o=Math.ceil(r/(1e3*60*60*24));m(o)},[c]),s.useEffect(()=>{x(c==="true"&&a>0)},[c,a]);const y=async(t,n)=>{const l={plan:t,userId:n};try{const o=(await j.post("/users/payment",l,{headers:{"Content-Type":"application/json"}})).data.session;localStorage.setItem("sessionId",JSON.stringify(o.id)),window.location=o.url}catch(r){console.error("Error:",r)}},g=new Date<=new Date("2024-03-31");return e.jsx(e.Fragment,{children:p&&e.jsxs("div",{className:" bg-[#033CEE] flex flex-col items-center text-white p-2 z-50",children:[e.jsxs("div",{className:" flex flex-row items-center gap-2",children:[e.jsx(b,{}),e.jsx("h1",{className:" font-bold max-sm:text-sm",children:"Welcome to your free trial!"})]}),g&&e.jsxs("div",{className:" flex gap-3 items-center text-black",children:[e.jsx(N,{size:24}),e.jsxs("p",{className:" font-bold text-xl max-sm:text-base",children:["Limited Time Offer! ",e.jsx("span",{onClick:()=>y(23.99,u),className:" underline cursor-pointer",children:"Subscribe"})," for only €23.99 until 31.03.2024."]})]}),e.jsx("div",{children:e.jsxs("p",{className:" text-center max-sm:text-sm",children:["You have ",a," ",a===1?"day":"days"," to try Mansa's CRM ",e.jsx(w,{to:"/pricing",className:" underline cursor-pointer font-bold",children:"paid features"}),". Upgrade anytime for as low as €29.99/month."]})})]})})}export{M as F};
