import{c as w,K as S,r as s,Y as N,E as e,a5 as u,R as T}from"./index-Wkrug-03.js";import{T as b}from"./tag-KHUmjZio.js";/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=w("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function O(){const{t:a}=S(),[c,p]=s.useState(0),[I,x]=s.useState(""),[f,h]=s.useState(""),[k,d]=s.useState(""),[g,D]=s.useState(!1);N();const o=JSON.parse(localStorage.getItem("user")),l=localStorage.getItem("showBanner");s.useEffect(()=>{const t=JSON.parse(localStorage.getItem("user"));t&&(h(t.id),x(t.email),t.subscription_name===null?d(""):d(t.subscription_name))},[]),o&&s.useEffect(()=>{const t=new Date(o.createdAt),n=new Date(t);n.setDate(t.getDate()+7);const r=n-new Date,i=Math.ceil(r/(1e3*60*60*24));p(i)},[l]),o&&s.useEffect(()=>{D(l==="true"&&c>0)},[l,c]);const y=async(t,n)=>{const m={plan:t,userId:n};try{const i=(await T.post("/users/payment",m,{headers:{"Content-Type":"application/json"}})).data.session;localStorage.setItem("sessionId",JSON.stringify(i.id)),window.location=i.url}catch(r){console.error("Error:",r)}},j=new Date<=new Date("2024-03-31");return e.jsx(e.Fragment,{children:g&&e.jsxs("div",{className:"bg-[#033CEE] flex flex-col items-center text-white p-2 z-50",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(E,{}),e.jsx("h1",{className:"font-bold max-sm:text-sm",children:a("WelcomeFreeTrial")})]}),j&&e.jsxs("div",{className:"flex gap-3 items-center text-black",children:[e.jsx(b,{size:24}),e.jsxs("p",{className:"font-bold text-xl max-sm:text-base",children:[a("LimitedTimeOffer",{price:"â‚¬23.99",endDate:"31.03.2024"}),e.jsx("span",{onClick:()=>y(23.99,f),className:"underline cursor-pointer",children:a("Subscribe")})]})]}),e.jsx("div",{children:e.jsxs("p",{className:"text-center max-sm:text-sm",children:[a("TrialDaysMessage",{daysLeft:c,paidFeaturesLink:e.jsx(u,{to:"/pricing",className:"underline cursor-pointer font-bold",children:a("PaidFeaturesLink")})}),e.jsx(u,{to:"/pricing",className:"underline cursor-pointer font-bold",children:a("PaidFeaturesLink")})]})})]})})}export{O as F};
