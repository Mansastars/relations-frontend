import{c as w,K as S,r as s,Y as j,E as e,a5 as T,R as N}from"./index-BUjLvR5R.js";import{T as b}from"./tag-DN6Gl0ys.js";/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=w("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function O(){const{t:a}=S(),[i,u]=s.useState(0),[I,p]=s.useState(""),[x,f]=s.useState(""),[k,m]=s.useState(""),[h,g]=s.useState(!1);j();const o=JSON.parse(localStorage.getItem("user")),l=localStorage.getItem("showBanner");s.useEffect(()=>{const t=JSON.parse(localStorage.getItem("user"));t&&(f(t.id),p(t.email),t.subscription_name===null?m(""):m(t.subscription_name))},[]),o&&s.useEffect(()=>{const t=new Date(o.createdAt),n=new Date(t);n.setDate(t.getDate()+7);const r=n-new Date,c=Math.ceil(r/(1e3*60*60*24));u(c)},[l]),o&&s.useEffect(()=>{g(l==="true"&&i>0)},[l,i]);const D=async(t,n)=>{const d={plan:t,userId:n};try{const c=(await N.post("/users/payment",d,{headers:{"Content-Type":"application/json"}})).data.session;localStorage.setItem("sessionId",JSON.stringify(c.id)),window.location=c.url}catch(r){console.error("Error:",r)}},y=new Date<=new Date("2024-03-31");return e.jsx(e.Fragment,{children:h&&e.jsxs("div",{className:"bg-[#033CEE] flex flex-col items-center text-white p-2 z-50",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(E,{}),e.jsx("h1",{className:"font-bold max-sm:text-sm",children:a("WelcomeFreeTrial")})]}),y&&e.jsxs("div",{className:"flex gap-3 items-center text-black",children:[e.jsx(b,{size:24}),e.jsxs("p",{className:"font-bold text-xl max-sm:text-base",children:[a("LimitedTimeOffer",{price:"â‚¬23.99",endDate:"31.03.2024"}),e.jsx("span",{onClick:()=>D(23.99,x),className:"underline cursor-pointer",children:a("Subscribe")})]})]}),e.jsx("div",{children:e.jsx("p",{className:"text-center max-sm:text-sm",children:a("TrialDaysMessage",{daysLeft:i,paidFeaturesLink:e.jsx(T,{to:"/pricing",className:"underline cursor-pointer font-bold",children:a("PaidFeaturesLink")})})})})]})})}export{O as F};
