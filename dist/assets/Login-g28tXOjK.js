import{b as V,r as a,u as k,j as e,L as j}from"./index-CF6aRru1.js";import{S as w,B as M}from"./Reusables-BQjiAsUo.js";import{E as L,R as I}from"./ResendVerificationEmail-DNVPU8HJ.js";import{E as R,a as D}from"./eye-BldY_G7t.js";import"./ToggleSwitch-g2SEo0VD.js";import"./index-Bvng1mpX.js";import"./x-button-CT4dcaD-.js";import"./email-Bj3w0Esp.js";import"./createLucideIcon-C95knvvK.js";function A(){const{login:b}=V(),[t,c]=a.useState({email:"",password:""}),[d,u]=a.useState(""),[i,v]=a.useState(!1),[x,f]=a.useState(!1),[N,r]=a.useState(!1),[y,n]=a.useState(!1),E=k(),p=l=>{if(l&&l.target){const{name:m,value:s}=l.target;c(o=>({...o,[m]:s}))}},g=()=>{r(!1)},S=()=>{n(!1),c({email:"",password:""})},C=async l=>{l.preventDefault(),f(!0);const m={email:t.email,password:t.password};try{await b(m);const s=localStorage.getItem("user"),o=JSON.parse(s);o.isVerified===!1||o.isVerified===null?r(!0):E("/alldashboards")}catch(s){console.log(s),s.response&&s.response.data&&s.response.data.message?u(s.response.data.message):u("Something went wrong. Please try again.")}finally{f(!1)}},h=()=>{v(!i)};return e.jsxs("div",{className:" mx-2 flex justify-center relative top-10",children:[e.jsx("div",{className:"bg-white px-5 py-5 flex flex-col mt-10 mb-5 rounded-2xl h-full w-1/2 max-lg:w-[70%] max-md:w-[90%]",children:e.jsxs("div",{className:" flex flex-col justify-center items-center gap-5 h-fit ",children:[e.jsxs("div",{className:" flex flex-col justify-center items-center",children:[e.jsx("h1",{className:" text-dark-blue font-extrabold text-5xl mb-5",children:"Log In"}),e.jsxs("p",{className:" text-base text-dark-blue",children:["You don't have an account"," ",e.jsx(j,{to:"/auth/sign_up",className:" text-mansa-blue hover:text-dark-blue",children:e.jsx("u",{children:"Sign Up"})})]})]}),e.jsxs("form",{action:"",onSubmit:C,className:" flex flex-col gap-5 justify-center items-center w-full",children:[d&&e.jsx("p",{className:" text-red-500 font-semibold text-center",children:d}),e.jsxs("div",{className:" w-full md:w-3/4 flex flex-col gap-8",children:[e.jsx(w,{type:"email",title:"Email*",placeholder:"SundiJoe@gmail.com",id:"email",autoComplete:"email",value:t.email,onChange:p}),e.jsxs("div",{children:[e.jsx(w,{type:i?"text":"password",title:"Password*",id:"password",placeholder:"•••••••••",value:t.password,onChange:p,icon:i?e.jsx(R,{size:16,onClick:h}):e.jsx(D,{size:16,onClick:h})}),e.jsx(j,{to:"/verify_email",className:" text-sm text-mansa-blue hover:text-dark-blue",children:e.jsx("u",{children:"Forgot password?"})})]})]}),e.jsx(M,{type:"submit",text:x?"Logging In...":"Log In",disabled:x,className:" max-md:w-full"})]})]})}),r&&e.jsx(L,{onClose:g,show:N,onClick:()=>{g(),n(!0)}}),n&&e.jsx(I,{onClose:S,show:y,userEmail:t.email})]})}export{A as default};
