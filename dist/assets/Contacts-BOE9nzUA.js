import{j as c,S as ve,a as tt,r as C,g as vt,_ as Se,d as Re,e as nt,f as it,R as Mt,h as Ut,u as Bt,b as Ht}from"./index-DO6F1rRA.js";import{F as Wt}from"./FreeTrialBanner-C_4u_D8A.js";import{S as Kt}from"./SidePanel-B_hYqSzo.js";import{B as yt,d as Te,e as $t}from"./Reusables-EiZm1SG7.js";import{G as qt,T as ce,B as $e,M as ze,a as qe,H as Vt}from"./ToggleSwitch-U2Qzizk3.js";import"./index-hfPBZaqo.js";import{c as bt}from"./createLucideIcon-Cvw2IG8n.js";/* empty css              *//**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=bt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);function Oe(e){return Object.prototype.toString.call(e)==="[object Array]"}function Je(e,t){if(!e)throw new Error(t)}function at(e){return Object.keys(e)}function Ne(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function Ae(e,t,r){var n="."+t,o=new RegExp("(\\".concat(t,")?$"));return r(e).replace(o,n)}function Yt(e){return e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function Qt(e){return Array(e+1).join(" ")}function Xt(e){return e.replace(/([<>&])/g,function(t,r){switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})}function Zt(e,t,r){switch(t){case"txt":{var n="text/plain;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"css":{var n="text/css;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"html":{var n="text/html;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"json":{var n="text/json;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"csv":{var n="text/csv;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"xls":{var n="text/application/vnd.ms-excel;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}case"xml":{var n="text/application/xml;charset=utf-8";return r?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e)}default:return""}}function xt(e,t,r,n){r===void 0&&(r="download"),n===void 0&&(n=!0);var o=Zt(e,t,n),l=document.createElement("a");l.href=o,l.download=r,l.setAttribute("style","visibility:hidden"),document.body.appendChild(l),l.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(l)}var je=function(){return je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},je.apply(this,arguments)},Ie=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,l=[],p;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)l.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(p)throw p.error}}return l};function er(e){if(!e||Oe(e)&&!e.length||!Oe(e)&&!at(e).length)return function(r){return r};var t=Oe(e)?e.reduce(function(r,n){var o;return je(je({},r),(o={},o[n]=n,o))},Object.create(null)):e;return function(r){return Oe(r)?r.map(function(n){return Ne(n).reduce(function(o,l){var p=Ie(l,2),m=p[0],u=p[1];return m in t&&(o[t[m]]=u),o},Object.create(null))}).filter(function(n){return at(n).length}):Ne(r).reduce(function(n,o){var l=Ie(o,2),p=l[0],m=l[1];return p in t&&(n[t[p]]=m),n},Object.create(null))}}function tr(e){var t="Invalid export data. Please provide a valid JSON";try{return typeof e=="string"?JSON.parse(e):e}catch{throw new Error(t)}}function rr(e,t,r){t===void 0&&(t=null);var n="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,r)}catch{throw new Error(n)}}function _t(e){return e.map(Ne).reduce(function(t,r,n){return r.reduce(function(o,l){var p=Ie(l,2),m=p[0],u=p[1],E=o[m]||Array.from({length:e.length}).map(function(D){return""});return E[n]=(typeof u!="string"?JSON.stringify(u):u)||"",o[m]=E,o},t)},Object.create(null))}function wt(e,t){return t===void 0&&(t=function(r){return r}),t(Ne(e).map(function(r){var n=Ie(r,2),o=n[0],l=n[1];return{fieldName:o,fieldValues:l}}))}function nr(e,t){var r=new RegExp("".concat(t,`|"|
`)),n=r.test(e)?'"':"",o=e.replace(/"/g,'""');return"".concat(n).concat(o).concat(n)}var ir={beforeTableEncode:function(e){return e},delimiter:","};function ar(e,t){t===void 0&&(t={});var r=je(je({},ir),t),n=r.beforeTableEncode,o=r.delimiter;if(!e.length)return"";var l=_t(e),p=wt(l,n),m=p.map(function(D){var F=D.fieldName;return F}).join(o)+`\r
`,u=p.map(function(D){var F=D.fieldValues;return F}).map(function(D){return D.map(function(F){return nr(F,o)})}),E=u.reduce(function(D,F){return D.map(function(Z,j){return"".concat(Z).concat(o).concat(F[j])})});return m+E.join(`\r
`)}function or(e,t){Je(e.length>0);var r=_t(e),n=wt(r,t),o=n.map(function(m){var u=m.fieldName;return u}).join("</b></th><th><b>"),l=n.map(function(m){var u=m.fieldValues;return u}).map(function(m){return m.map(function(u){return"<td>".concat(u,"</td>")})}),p=l.reduce(function(m,u){return m.map(function(E,D){return"".concat(E).concat(u[D])})});return`
    <table>
      <thead>
        <tr><th><b>`.concat(o,`</b></th></tr>
      </thead>
      <tbody>
        <tr>`).concat(p.join(`</tr>
        <tr>`),`</tr>
      </tbody>
    </table>
  `)}var sr={beforeTableEncode:function(e){return e}};function cr(e,t){var r=je(je({},sr),t).beforeTableEncode;if(!e.length)return"";var n=`<html>
  <head>
    <meta charset="UTF-8" />
  </head >
  <body>
    `.concat(or(e,r),`
  </body>
</html >
`);return n}function lr(e){var t=`<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>
`.concat(Ge(e,"base"),`
`);return t}function Ge(e,t,r,n){r===void 0&&(r="element"),n===void 0&&(n=0);var o=Yt(t),l=Qt(n);if(e==null)return"".concat(l,"<").concat(o," />");var p=Oe(e)?e.map(function(u){return Ge(u,r,r,n+2)}).join(`
`):typeof e=="object"?Ne(e).map(function(u){var E=Ie(u,2),D=E[0],F=E[1];return Ge(F,D,r,n+2)}).join(`
`):l+"  "+Xt(String(e)),m="".concat(l,"<").concat(o,`>
`).concat(p,`
`).concat(l,"</").concat(o,">");return m}var ur={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function Fe(e){var t=e.data,r=e.fileName,n=r===void 0?"download":r,o=e.extension,l=e.fileNameFormatter,p=l===void 0?function(k){return k.replace(/\s+/,"_")}:l,m=e.fields,u=e.exportType,E=u===void 0?"txt":u,D=e.replacer,F=D===void 0?null:D,Z=e.space,j=Z===void 0?4:Z,X=e.processor,S=X===void 0?xt:X,me=e.withBOM,xe=me===void 0?!1:me,we=e.beforeTableEncode,ae=we===void 0?function(k){return k}:we,ye=e.delimiter,le=ye===void 0?",":ye,ne="Invalid export data. Please provide an array of objects",O="Can't export unknown data type ".concat(E,"."),a="Can't export string data to ".concat(E,".");if(typeof t=="string")switch(E){case"txt":case"css":case"html":return S(t,E,Ae(n,o??E,p));default:throw new Error(a)}var i=er(m),s=i(tr(t)),h=rr(s,F,j);switch(E){case"txt":case"css":case"html":return S(h,E,Ae(n,o??E,p));case"json":return S(h,E,Ae(n,o??"json",p));case"csv":{Je(Oe(s),ne);var v="\uFEFF",w=ar(s,{beforeTableEncode:ae,delimiter:le}),x=xe?v+w:w;return S(x,E,Ae(n,o??"csv",p))}case"xls":{Je(Oe(s),ne);var x=cr(s,{beforeTableEncode:ae});return S(x,E,Ae(n,o??"xls",p))}case"xml":{var x=lr(s);return S(x,E,Ae(n,o??"xml",p))}default:throw new Error(O)}}Fe.types=ur;Fe.processors={downloadFile:xt};function fr(){const e=async()=>{ve.fire({title:"Export Contacts",text:"Are you sure you want to export your contacts?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, export it!",cancelButtonText:"Cancel"}).then(async t=>{if(t.isConfirmed)try{const n=(await tt.get("contacts/export-contacts")).data.data,l=`${JSON.parse(localStorage.getItem("user")).first_name}_Contacts`,p=Fe.types.csv;Fe({data:n,fileName:l,fields:{first_name:"First Name",last_name:"Last Name",gender:"Gender",organization_name:"Organization"},exportType:p}),ve.fire({icon:"success",title:"Success!",text:"Contacts exported successfully."})}catch(r){console.log(r),ve.fire({icon:"error",title:"Export Error!",text:"Failed to export contacts. Please try again."})}})};return c.jsx(c.Fragment,{children:c.jsx(yt,{text:"Export Contacts",onClick:e})})}function dr({firstName:e,lastName:t,email:r,phoneNumber:n,org:o}){return c.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:e}),c.jsx("td",{className:"px-6 py-4",children:t}),c.jsx("td",{className:"px-6 py-4",children:r}),c.jsx("td",{className:"px-6 py-4",children:n}),c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:o})]})}function pr({data:e}){return c.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:c.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[c.jsx("thead",{className:"text-xs text-white uppercase bg-mansa-blue",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3",children:"First name"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Last name"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Organization"})]})}),c.jsx("tbody",{children:e.map(t=>c.jsx(dr,{firstName:t.first_name,lastName:t.last_name,email:t.email,org:t.organization_name,phoneNumber:t.phone_number},t.id))})]})})}function hr(){const[e,t]=C.useState([]);return C.useEffect(()=>{(async()=>{try{const n=await tt.get("contacts/all-contacts");t(n.data.data)}catch(n){console.log(n.message)}})()},[]),c.jsxs("div",{className:" mx-3 my-5 text-dark-blue",children:[c.jsxs("div",{className:" flex flex-col gap-5",children:[c.jsx("h1",{className:" text-3xl font-bold",children:"All Contacts"}),c.jsx("div",{className:" self-end",children:c.jsx(fr,{})})]}),c.jsx("div",{className:"py-8",children:c.jsx(pr,{data:e})})]})}function mr(e){return qt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(e)}var Et={exports:{}},gr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vr=gr,yr=vr;function jt(){}function Ct(){}Ct.resetWarningCache=jt;var br=function(){function e(n,o,l,p,m,u){if(u!==yr){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ct,resetWarningCache:jt};return r.PropTypes=r,r};Et.exports=br();var xr=Et.exports;const z=vt(xr);var _r=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Le(e,t){var r=wr(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function wr(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),o=_r.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Er=[".DS_Store","Thumbs.db"];function jr(e){return Se(this,void 0,void 0,function(){return Re(this,function(t){return Ue(e)&&Cr(e.dataTransfer)?[2,Ar(e.dataTransfer,e.type)]:Dr(e)?[2,Or(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,kr(e)]:[2,[]]})})}function Cr(e){return Ue(e)}function Dr(e){return Ue(e)&&Ue(e.target)}function Ue(e){return typeof e=="object"&&e!==null}function Or(e){return Ye(e.target.files).map(function(t){return Le(t)})}function kr(e){return Se(this,void 0,void 0,function(){var t;return Re(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Le(n)})]}})})}function Ar(e,t){return Se(this,void 0,void 0,function(){var r,n;return Re(this,function(o){switch(o.label){case 0:return e.items?(r=Ye(e.items).filter(function(l){return l.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Fr))]):[3,2];case 1:return n=o.sent(),[2,ot(Dt(n))];case 2:return[2,ot(Ye(e.files).map(function(l){return Le(l)}))]}})})}function ot(e){return e.filter(function(t){return Er.indexOf(t.name)===-1})}function Ye(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Fr(e){if(typeof e.webkitGetAsEntry!="function")return st(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ot(t):st(e)}function Dt(e){return e.reduce(function(t,r){return nt(nt([],it(t),!1),it(Array.isArray(r)?Dt(r):[r]),!1)},[])}function st(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Le(t);return Promise.resolve(r)}function Sr(e){return Se(this,void 0,void 0,function(){return Re(this,function(t){return[2,e.isDirectory?Ot(e):Rr(e)]})})}function Ot(e){var t=e.createReader();return new Promise(function(r,n){var o=[];function l(){var p=this;t.readEntries(function(m){return Se(p,void 0,void 0,function(){var u,E,D;return Re(this,function(F){switch(F.label){case 0:if(m.length)return[3,5];F.label=1;case 1:return F.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=F.sent(),r(u),[3,4];case 3:return E=F.sent(),n(E),[3,4];case 4:return[3,6];case 5:D=Promise.all(m.map(Sr)),o.push(D),l(),F.label=6;case 6:return[2]}})})},function(m){n(m)})}l()})}function Rr(e){return Se(this,void 0,void 0,function(){return Re(this,function(t){return[2,new Promise(function(r,n){e.file(function(o){var l=Le(o,e.fullPath);r(l)},function(o){n(o)})})]})})}var Tr=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return r.some(function(p){var m=p.trim().toLowerCase();return m.charAt(0)==="."?n.toLowerCase().endsWith(m):m.endsWith("/*")?l===m.replace(/\/.*$/,""):o===m})}return!0};function ct(e){return Pr(e)||Ir(e)||At(e)||Nr()}function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ir(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pr(e){if(Array.isArray(e))return Qe(e)}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){return Mr(e)||zr(e,t)||At(e,t)||Lr()}function Lr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(e,t){if(e){if(typeof e=="string")return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(e,t)}}function Qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,l=!1,p,m;try{for(r=r.call(e);!(o=(p=r.next()).done)&&(n.push(p.value),!(t&&n.length===t));o=!0);}catch(u){l=!0,m=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw m}}return n}}function Mr(e){if(Array.isArray(e))return e}var Ur="file-invalid-type",Br="file-too-large",Hr="file-too-small",Wr="too-many-files",Kr=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Ur,message:"File type must be ".concat(r)}},ft=function(t){return{code:Br,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},dt=function(t){return{code:Hr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},$r={code:Wr,message:"Too many files"};function Ft(e,t){var r=e.type==="application/x-moz-file"||Tr(e,t);return[r,r?null:Kr(t)]}function St(e,t,r){if(De(e.size))if(De(t)&&De(r)){if(e.size>r)return[!1,ft(r)];if(e.size<t)return[!1,dt(t)]}else{if(De(t)&&e.size<t)return[!1,dt(t)];if(De(r)&&e.size>r)return[!1,ft(r)]}return[!0,null]}function De(e){return e!=null}function qr(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,l=e.multiple,p=e.maxFiles,m=e.validator;return!l&&t.length>1||l&&p>=1&&t.length>p?!1:t.every(function(u){var E=Ft(u,r),D=Pe(E,1),F=D[0],Z=St(u,n,o),j=Pe(Z,1),X=j[0],S=m?m(u):null;return F&&X&&!S})}function Be(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Me(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function pt(e){e.preventDefault()}function Vr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Jr(e){return e.indexOf("Edge/")!==-1}function Gr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Vr(e)||Jr(e)}function _e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,l=new Array(o>1?o-1:0),p=1;p<o;p++)l[p-1]=arguments[p];return t.some(function(m){return!Be(n)&&m&&m.apply(void 0,[n].concat(l)),Be(n)})}}function Yr(){return"showOpenFilePicker"in window}function Qr(e){if(De(e)){var t=Object.entries(e).filter(function(r){var n=Pe(r,2),o=n[0],l=n[1],p=!0;return Rt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),p=!1),(!Array.isArray(l)||!l.every(Tt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),p=!1),p}).reduce(function(r,n){var o=Pe(n,2),l=o[0],p=o[1];return ut(ut({},r),{},kt({},l,p))},{});return[{description:"Files",accept:t}]}return e}function Xr(e){if(De(e))return Object.entries(e).reduce(function(t,r){var n=Pe(r,2),o=n[0],l=n[1];return[].concat(ct(t),[o],ct(l))},[]).filter(function(t){return Rt(t)||Tt(t)}).join(",")}function Zr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function en(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Rt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Tt(e){return/^.*\.[\w]+$/.test(e)}var tn=["children"],rn=["open"],nn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],an=["refKey","onChange","onClick"];function on(e){return ln(e)||cn(e)||Nt(e)||sn()}function sn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ln(e){if(Array.isArray(e))return Xe(e)}function Ve(e,t){return dn(e)||fn(e,t)||Nt(e,t)||un()}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e,t){if(e){if(typeof e=="string")return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}}function Xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,l=!1,p,m;try{for(r=r.call(e);!(o=(p=r.next()).done)&&(n.push(p.value),!(t&&n.length===t));o=!0);}catch(u){l=!0,m=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw m}}return n}}function dn(e){if(Array.isArray(e))return e}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(r),!0).forEach(function(n){Ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){if(e==null)return{};var r=pn(e,t),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var rt=C.forwardRef(function(e,t){var r=e.children,n=He(e,tn),o=Pt(n),l=o.open,p=He(o,rn);return C.useImperativeHandle(t,function(){return{open:l}},[l]),Mt.createElement(C.Fragment,null,r(V(V({},p),{},{open:l})))});rt.displayName="Dropzone";var It={disabled:!1,getFilesFromEvent:jr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rt.defaultProps=It;rt.propTypes={children:z.func,accept:z.objectOf(z.arrayOf(z.string)),multiple:z.bool,preventDropOnDocument:z.bool,noClick:z.bool,noKeyboard:z.bool,noDrag:z.bool,noDragEventsBubbling:z.bool,minSize:z.number,maxSize:z.number,maxFiles:z.number,disabled:z.bool,getFilesFromEvent:z.func,onFileDialogCancel:z.func,onFileDialogOpen:z.func,useFsAccessApi:z.bool,autoFocus:z.bool,onDragEnter:z.func,onDragLeave:z.func,onDragOver:z.func,onDrop:z.func,onDropAccepted:z.func,onDropRejected:z.func,onError:z.func,validator:z.func};var et={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Pt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=V(V({},It),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,l=t.maxSize,p=t.minSize,m=t.multiple,u=t.maxFiles,E=t.onDragEnter,D=t.onDragLeave,F=t.onDragOver,Z=t.onDrop,j=t.onDropAccepted,X=t.onDropRejected,S=t.onFileDialogCancel,me=t.onFileDialogOpen,xe=t.useFsAccessApi,we=t.autoFocus,ae=t.preventDropOnDocument,ye=t.noClick,le=t.noKeyboard,ne=t.noDrag,O=t.noDragEventsBubbling,a=t.onError,i=t.validator,s=C.useMemo(function(){return Xr(r)},[r]),h=C.useMemo(function(){return Qr(r)},[r]),v=C.useMemo(function(){return typeof me=="function"?me:mt},[me]),w=C.useMemo(function(){return typeof S=="function"?S:mt},[S]),x=C.useRef(null),k=C.useRef(null),K=C.useReducer(hn,et),b=Ve(K,2),U=b[0],y=b[1],ge=U.isFocused,ee=U.isFileDialogActive,g=C.useRef(typeof window<"u"&&window.isSecureContext&&xe&&Yr()),I=function(){!g.current&&ee&&setTimeout(function(){if(k.current){var d=k.current.files;d.length||(y({type:"closeDialog"}),w())}},300)};C.useEffect(function(){return window.addEventListener("focus",I,!1),function(){window.removeEventListener("focus",I,!1)}},[k,ee,w,g]);var q=C.useRef([]),B=function(d){x.current&&x.current.contains(d.target)||(d.preventDefault(),q.current=[])};C.useEffect(function(){return ae&&(document.addEventListener("dragover",pt,!1),document.addEventListener("drop",B,!1)),function(){ae&&(document.removeEventListener("dragover",pt),document.removeEventListener("drop",B))}},[x,ae]),C.useEffect(function(){return!n&&we&&x.current&&x.current.focus(),function(){}},[x,we,n]);var H=C.useCallback(function(f){a?a(f):console.error(f)},[a]),G=C.useCallback(function(f){f.preventDefault(),f.persist(),de(f),q.current=[].concat(on(q.current),[f.target]),Me(f)&&Promise.resolve(o(f)).then(function(d){if(!(Be(f)&&!O)){var P=d.length,L=P>0&&qr({files:d,accept:s,minSize:p,maxSize:l,multiple:m,maxFiles:u,validator:i}),Q=P>0&&!L;y({isDragAccept:L,isDragReject:Q,isDragActive:!0,type:"setDraggedFiles"}),E&&E(f)}}).catch(function(d){return H(d)})},[o,E,H,O,s,p,l,m,u,i]),Y=C.useCallback(function(f){f.preventDefault(),f.persist(),de(f);var d=Me(f);if(d&&f.dataTransfer)try{f.dataTransfer.dropEffect="copy"}catch{}return d&&F&&F(f),!1},[F,O]),_=C.useCallback(function(f){f.preventDefault(),f.persist(),de(f);var d=q.current.filter(function(L){return x.current&&x.current.contains(L)}),P=d.indexOf(f.target);P!==-1&&d.splice(P,1),q.current=d,!(d.length>0)&&(y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Me(f)&&D&&D(f))},[x,D,O]),A=C.useCallback(function(f,d){var P=[],L=[];f.forEach(function(Q){var he=Ft(Q,s),fe=Ve(he,2),be=fe[0],se=fe[1],Ee=St(Q,p,l),ie=Ve(Ee,2),ke=ie[0],Ce=ie[1],We=i?i(Q):null;if(be&&ke&&!We)P.push(Q);else{var Ke=[se,Ce];We&&(Ke=Ke.concat(We)),L.push({file:Q,errors:Ke.filter(function(zt){return zt})})}}),(!m&&P.length>1||m&&u>=1&&P.length>u)&&(P.forEach(function(Q){L.push({file:Q,errors:[$r]})}),P.splice(0)),y({acceptedFiles:P,fileRejections:L,type:"setFiles"}),Z&&Z(P,L,d),L.length>0&&X&&X(L,d),P.length>0&&j&&j(P,d)},[y,m,s,p,l,u,Z,j,X,i]),T=C.useCallback(function(f){f.preventDefault(),f.persist(),de(f),q.current=[],Me(f)&&Promise.resolve(o(f)).then(function(d){Be(f)&&!O||A(d,f)}).catch(function(d){return H(d)}),y({type:"reset"})},[o,A,H,O]),M=C.useCallback(function(){if(g.current){y({type:"openDialog"}),v();var f={multiple:m,types:h};window.showOpenFilePicker(f).then(function(d){return o(d)}).then(function(d){A(d,null),y({type:"closeDialog"})}).catch(function(d){Zr(d)?(w(d),y({type:"closeDialog"})):en(d)?(g.current=!1,k.current?(k.current.value=null,k.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(d)});return}k.current&&(y({type:"openDialog"}),v(),k.current.value=null,k.current.click())},[y,v,w,xe,A,H,h,m]),R=C.useCallback(function(f){!x.current||!x.current.isEqualNode(f.target)||(f.key===" "||f.key==="Enter"||f.keyCode===32||f.keyCode===13)&&(f.preventDefault(),M())},[x,M]),te=C.useCallback(function(){y({type:"focus"})},[]),$=C.useCallback(function(){y({type:"blur"})},[]),N=C.useCallback(function(){ye||(Gr()?setTimeout(M,0):M())},[ye,M]),re=function(d){return n?null:d},oe=function(d){return le?null:re(d)},ue=function(d){return ne?null:re(d)},de=function(d){O&&d.stopPropagation()},pe=C.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=f.refKey,P=d===void 0?"ref":d,L=f.role,Q=f.onKeyDown,he=f.onFocus,fe=f.onBlur,be=f.onClick,se=f.onDragEnter,Ee=f.onDragOver,ie=f.onDragLeave,ke=f.onDrop,Ce=He(f,nn);return V(V(Ze({onKeyDown:oe(_e(Q,R)),onFocus:oe(_e(he,te)),onBlur:oe(_e(fe,$)),onClick:re(_e(be,N)),onDragEnter:ue(_e(se,G)),onDragOver:ue(_e(Ee,Y)),onDragLeave:ue(_e(ie,_)),onDrop:ue(_e(ke,T)),role:typeof L=="string"&&L!==""?L:"presentation"},P,x),!n&&!le?{tabIndex:0}:{}),Ce)}},[x,R,te,$,N,G,Y,_,T,le,ne,n]),W=C.useCallback(function(f){f.stopPropagation()},[]),J=C.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=f.refKey,P=d===void 0?"ref":d,L=f.onChange,Q=f.onClick,he=He(f,an),fe=Ze({accept:s,multiple:m,type:"file",style:{display:"none"},onChange:re(_e(L,T)),onClick:re(_e(Q,W)),tabIndex:-1},P,k);return V(V({},fe),he)}},[k,r,m,T,n]);return V(V({},U),{},{isFocused:ge&&!n,getRootProps:pe,getInputProps:J,rootRef:x,inputRef:k,open:re(M)})}function hn(e,t){switch(t.type){case"focus":return V(V({},e),{},{isFocused:!0});case"blur":return V(V({},e),{},{isFocused:!1});case"openDialog":return V(V({},et),{},{isFileDialogActive:!0});case"closeDialog":return V(V({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return V(V({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return V(V({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return V({},et);default:return e}}function mt(){}const mn={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#08a5aa",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"},gn={borderColor:"#08a5aa"},vn={borderColor:"green"},yn={borderColor:"#ff1744"};var Lt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,n){e.exports=n()})(Ut,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},o=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,p={},m=0,u={parse:function(a,i){var s=(i=i||{}).dynamicTyping||!1;if(O(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!O(i.transform)&&i.transform,i.worker&&u.WORKERS_SUPPORTED){var h=function(){if(!u.WORKERS_SUPPORTED)return!1;var w=(k=n.URL||n.webkitURL||null,K=r.toString(),u.BLOB_URL||(u.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",K,")();"],{type:"text/javascript"})))),x=new n.Worker(w),k,K;return x.onmessage=we,x.id=m++,p[x.id]=x}();return h.userStep=i.step,h.userChunk=i.chunk,h.userComplete=i.complete,h.userError=i.error,i.step=O(i.step),i.chunk=O(i.chunk),i.complete=O(i.complete),i.error=O(i.error),delete i.worker,void h.postMessage({input:a,config:i,workerId:h.id})}var v=null;return u.NODE_STREAM_INPUT,typeof a=="string"?(a=function(w){return w.charCodeAt(0)===65279?w.slice(1):w}(a),v=i.download?new F(i):new j(i)):a.readable===!0&&O(a.read)&&O(a.on)?v=new X(i):(n.File&&a instanceof File||a instanceof Object)&&(v=new Z(i)),v.stream(a)},unparse:function(a,i){var s=!1,h=!0,v=",",w=`\r
`,x='"',k=x+x,K=!1,b=null,U=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||u.BAD_DELIMITERS.filter(function(g){return i.delimiter.indexOf(g)!==-1}).length||(v=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(s=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(K=i.skipEmptyLines),typeof i.newline=="string"&&(w=i.newline),typeof i.quoteChar=="string"&&(x=i.quoteChar),typeof i.header=="boolean"&&(h=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");b=i.columns}i.escapeChar!==void 0&&(k=i.escapeChar+x),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(U=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var y=new RegExp(me(x),"g");if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return ge(null,a,K);if(typeof a[0]=="object")return ge(b||Object.keys(a[0]),a,K)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||b),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),ge(a.fields||[],a.data||[],K);throw new Error("Unable to serialize unrecognized input");function ge(g,I,q){var B="";typeof g=="string"&&(g=JSON.parse(g)),typeof I=="string"&&(I=JSON.parse(I));var H=Array.isArray(g)&&0<g.length,G=!Array.isArray(I[0]);if(H&&h){for(var Y=0;Y<g.length;Y++)0<Y&&(B+=v),B+=ee(g[Y],Y);0<I.length&&(B+=w)}for(var _=0;_<I.length;_++){var A=H?g.length:I[_].length,T=!1,M=H?Object.keys(I[_]).length===0:I[_].length===0;if(q&&!H&&(T=q==="greedy"?I[_].join("").trim()==="":I[_].length===1&&I[_][0].length===0),q==="greedy"&&H){for(var R=[],te=0;te<A;te++){var $=G?g[te]:te;R.push(I[_][$])}T=R.join("").trim()===""}if(!T){for(var N=0;N<A;N++){0<N&&!M&&(B+=v);var re=H&&G?g[N]:N;B+=ee(I[_][re],N)}_<I.length-1&&(!q||0<A&&!M)&&(B+=w)}}return B}function ee(g,I){if(g==null)return"";if(g.constructor===Date)return JSON.stringify(g).slice(1,25);var q=!1;U&&typeof g=="string"&&U.test(g)&&(g="'"+g,q=!0);var B=g.toString().replace(y,k);return(q=q||s===!0||typeof s=="function"&&s(g,I)||Array.isArray(s)&&s[I]||function(H,G){for(var Y=0;Y<G.length;Y++)if(-1<H.indexOf(G[Y]))return!0;return!1}(B,u.BAD_DELIMITERS)||-1<B.indexOf(v)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?x+B+x:B}}};if(u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=xe,u.ParserHandle=S,u.NetworkStreamer=F,u.FileStreamer=Z,u.StringStreamer=j,u.ReadableStreamStreamer=X,n.jQuery){var E=n.jQuery;E.fn.parse=function(a){var i=a.config||{},s=[];return this.each(function(w){if(!(E(this).prop("tagName").toUpperCase()==="INPUT"&&E(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var x=0;x<this.files.length;x++)s.push({file:this.files[x],inputElem:this,instanceConfig:E.extend({},i)})}),h(),this;function h(){if(s.length!==0){var w,x,k,K,b=s[0];if(O(a.before)){var U=a.before(b.file,b.inputElem);if(typeof U=="object"){if(U.action==="abort")return w="AbortError",x=b.file,k=b.inputElem,K=U.reason,void(O(a.error)&&a.error({name:w},x,k,K));if(U.action==="skip")return void v();typeof U.config=="object"&&(b.instanceConfig=E.extend(b.instanceConfig,U.config))}else if(U==="skip")return void v()}var y=b.instanceConfig.complete;b.instanceConfig.complete=function(ge){O(y)&&y(ge,b.file,b.inputElem),v()},u.parse(b.file,b.instanceConfig)}else O(a.complete)&&a.complete()}function v(){s.splice(0,1),h()}}}function D(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(i){var s=le(i);s.chunkSize=parseInt(s.chunkSize),i.step||i.chunk||(s.chunkSize=null),this._handle=new S(s),(this._handle.streamer=this)._config=s}).call(this,a),this.parseChunk=function(i,s){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var h=this._config.beforeFirstChunk(i);h!==void 0&&(i=h)}this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+i;this._partialLine="";var w=this._handle.parse(v,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var x=w.meta.cursor;this._finished||(this._partialLine=v.substring(x-this._baseIndex),this._baseIndex=x),w&&w.data&&(this._rowCount+=w.data.length);var k=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)n.postMessage({results:w,workerId:u.WORKER_ID,finished:k});else if(O(this._config.chunk)&&!s){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);w=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!k||!O(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(i){O(this._config.error)?this._config.error(i):l&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:i,finished:!1})}}function F(a){var i;(a=a||{}).chunkSize||(a.chunkSize=u.RemoteChunkSize),D.call(this,a),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(s){this._input=s,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),o||(i.onload=ne(this._chunkLoaded,this),i.onerror=ne(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var s=this._config.downloadRequestHeaders;for(var h in s)i.setRequestHeader(h,s[h])}if(this._config.chunkSize){var v=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+v)}try{i.send(this._config.downloadRequestBody)}catch(w){this._chunkError(w.message)}o&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(s){var h=s.getResponseHeader("Content-Range");return h===null?-1:parseInt(h.substring(h.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(s){var h=i.statusText||s;this._sendError(new Error(h))}}function Z(a){var i,s;(a=a||{}).chunkSize||(a.chunkSize=u.LocalChunkSize),D.call(this,a);var h=typeof FileReader<"u";this.stream=function(v){this._input=v,s=v.slice||v.webkitSlice||v.mozSlice,h?((i=new FileReader).onload=ne(this._chunkLoaded,this),i.onerror=ne(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var v=this._input;if(this._config.chunkSize){var w=Math.min(this._start+this._config.chunkSize,this._input.size);v=s.call(v,this._start,w)}var x=i.readAsText(v,this._config.encoding);h||this._chunkLoaded({target:{result:x}})},this._chunkLoaded=function(v){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(v.target.result)},this._chunkError=function(){this._sendError(i.error)}}function j(a){var i;D.call(this,a=a||{}),this.stream=function(s){return i=s,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var s,h=this._config.chunkSize;return h?(s=i.substring(0,h),i=i.substring(h)):(s=i,i=""),this._finished=!i,this.parseChunk(s)}}}function X(a){D.call(this,a=a||{});var i=[],s=!0,h=!1;this.pause=function(){D.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){D.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(v){this._input=v,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):s=!0},this._streamData=ne(function(v){try{i.push(typeof v=="string"?v:v.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(w){this._streamError(w)}},this),this._streamError=ne(function(v){this._streamCleanUp(),this._sendError(v)},this),this._streamEnd=ne(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=ne(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(a){var i,s,h,v=Math.pow(2,53),w=-v,x=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,b=0,U=0,y=!1,ge=!1,ee=[],g={data:[],errors:[],meta:{}};if(O(a.step)){var I=a.step;a.step=function(_){if(g=_,H())B();else{if(B(),g.data.length===0)return;b+=_.data.length,a.preview&&b>a.preview?s.abort():(g.data=g.data[0],I(g,K))}}}function q(_){return a.skipEmptyLines==="greedy"?_.join("").trim()==="":_.length===1&&_[0].length===0}function B(){return g&&h&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),h=!1),a.skipEmptyLines&&(g.data=g.data.filter(function(_){return!q(_)})),H()&&function(){if(!g)return;function _(T,M){O(a.transformHeader)&&(T=a.transformHeader(T,M)),ee.push(T)}if(Array.isArray(g.data[0])){for(var A=0;H()&&A<g.data.length;A++)g.data[A].forEach(_);g.data.splice(0,1)}else g.data.forEach(_)}(),function(){if(!g||!a.header&&!a.dynamicTyping&&!a.transform)return g;function _(T,M){var R,te=a.header?{}:[];for(R=0;R<T.length;R++){var $=R,N=T[R];a.header&&($=R>=ee.length?"__parsed_extra":ee[R]),a.transform&&(N=a.transform(N,$)),N=G($,N),$==="__parsed_extra"?(te[$]=te[$]||[],te[$].push(N)):te[$]=N}return a.header&&(R>ee.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+R,U+M):R<ee.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+R,U+M)),te}var A=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(_),A=g.data.length):g.data=_(g.data,0),a.header&&g.meta&&(g.meta.fields=ee),U+=A,g}()}function H(){return a.header&&ee.length===0}function G(_,A){return T=_,a.dynamicTypingFunction&&a.dynamicTyping[T]===void 0&&(a.dynamicTyping[T]=a.dynamicTypingFunction(T)),(a.dynamicTyping[T]||a.dynamicTyping)===!0?A==="true"||A==="TRUE"||A!=="false"&&A!=="FALSE"&&(function(M){if(x.test(M)){var R=parseFloat(M);if(w<R&&R<v)return!0}return!1}(A)?parseFloat(A):k.test(A)?new Date(A):A===""?null:A):A;var T}function Y(_,A,T,M){var R={type:_,code:A,message:T};M!==void 0&&(R.row=M),g.errors.push(R)}this.parse=function(_,A,T){var M=a.quoteChar||'"';if(a.newline||(a.newline=function($,N){$=$.substring(0,1048576);var re=new RegExp(me(N)+"([^]*?)"+me(N),"gm"),oe=($=$.replace(re,"")).split("\r"),ue=$.split(`
`),de=1<ue.length&&ue[0].length<oe[0].length;if(oe.length===1||de)return`
`;for(var pe=0,W=0;W<oe.length;W++)oe[W][0]===`
`&&pe++;return pe>=oe.length/2?`\r
`:"\r"}(_,M)),h=!1,a.delimiter)O(a.delimiter)&&(a.delimiter=a.delimiter(_),g.meta.delimiter=a.delimiter);else{var R=function($,N,re,oe,ue){var de,pe,W,J;ue=ue||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var f=0;f<ue.length;f++){var d=ue[f],P=0,L=0,Q=0;W=void 0;for(var he=new xe({comments:oe,delimiter:d,newline:N,preview:10}).parse($),fe=0;fe<he.data.length;fe++)if(re&&q(he.data[fe]))Q++;else{var be=he.data[fe].length;L+=be,W!==void 0?0<be&&(P+=Math.abs(be-W),W=be):W=be}0<he.data.length&&(L/=he.data.length-Q),(pe===void 0||P<=pe)&&(J===void 0||J<L)&&1.99<L&&(pe=P,de=d,J=L)}return{successful:!!(a.delimiter=de),bestDelimiter:de}}(_,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);R.successful?a.delimiter=R.bestDelimiter:(h=!0,a.delimiter=u.DefaultDelimiter),g.meta.delimiter=a.delimiter}var te=le(a);return a.preview&&a.header&&te.preview++,i=_,s=new xe(te),g=s.parse(i,A,T),B(),y?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,s.abort(),i=O(a.chunk)?"":i.substring(s.getCharIndex())},this.resume=function(){K.streamer._halted?(y=!1,K.streamer.parseChunk(i,!0)):setTimeout(K.resume,3)},this.aborted=function(){return ge},this.abort=function(){ge=!0,s.abort(),g.meta.aborted=!0,O(a.complete)&&a.complete(g),i=""}}function me(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xe(a){var i,s=(a=a||{}).delimiter,h=a.newline,v=a.comments,w=a.step,x=a.preview,k=a.fastMode,K=i=a.quoteChar===void 0||a.quoteChar===null?'"':a.quoteChar;if(a.escapeChar!==void 0&&(K=a.escapeChar),(typeof s!="string"||-1<u.BAD_DELIMITERS.indexOf(s))&&(s=","),v===s)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<u.BAD_DELIMITERS.indexOf(v))&&(v=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var b=0,U=!1;this.parse=function(y,ge,ee){if(typeof y!="string")throw new Error("Input must be a string");var g=y.length,I=s.length,q=h.length,B=v.length,H=O(w),G=[],Y=[],_=[],A=b=0;if(!y)return se();if(a.header&&!ge){var T=y.split(h)[0].split(s),M=[],R={},te=!1;for(var $ in T){var N=T[$];O(a.transformHeader)&&(N=a.transformHeader(N,$));var re=N,oe=R[N]||0;for(0<oe&&(te=!0,re=N+"_"+oe),R[N]=oe+1;M.includes(re);)re=re+"_"+oe;M.push(re)}if(te){var ue=y.split(h);ue[0]=M.join(s),y=ue.join(h)}}if(k||k!==!1&&y.indexOf(i)===-1){for(var de=y.split(h),pe=0;pe<de.length;pe++){if(_=de[pe],b+=_.length,pe!==de.length-1)b+=h.length;else if(ee)return se();if(!v||_.substring(0,B)!==v){if(H){if(G=[],Q(_.split(s)),Ee(),U)return se()}else Q(_.split(s));if(x&&x<=pe)return G=G.slice(0,x),se(!0)}}return se()}for(var W=y.indexOf(s,b),J=y.indexOf(h,b),f=new RegExp(me(K)+me(i),"g"),d=y.indexOf(i,b);;)if(y[b]!==i)if(v&&_.length===0&&y.substring(b,b+B)===v){if(J===-1)return se();b=J+q,J=y.indexOf(h,b),W=y.indexOf(s,b)}else if(W!==-1&&(W<J||J===-1))_.push(y.substring(b,W)),b=W+I,W=y.indexOf(s,b);else{if(J===-1)break;if(_.push(y.substring(b,J)),be(J+q),H&&(Ee(),U))return se();if(x&&G.length>=x)return se(!0)}else for(d=b,b++;;){if((d=y.indexOf(i,d+1))===-1)return ee||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:b}),fe();if(d===g-1)return fe(y.substring(b,d).replace(f,i));if(i!==K||y[d+1]!==K){if(i===K||d===0||y[d-1]!==K){W!==-1&&W<d+1&&(W=y.indexOf(s,d+1)),J!==-1&&J<d+1&&(J=y.indexOf(h,d+1));var P=he(J===-1?W:Math.min(W,J));if(y.substr(d+1+P,I)===s){_.push(y.substring(b,d).replace(f,i)),y[b=d+1+P+I]!==i&&(d=y.indexOf(i,b)),W=y.indexOf(s,b),J=y.indexOf(h,b);break}var L=he(J);if(y.substring(d+1+L,d+1+L+q)===h){if(_.push(y.substring(b,d).replace(f,i)),be(d+1+L+q),W=y.indexOf(s,b),d=y.indexOf(i,b),H&&(Ee(),U))return se();if(x&&G.length>=x)return se(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:b}),d++}}else d++}return fe();function Q(ie){G.push(ie),A=b}function he(ie){var ke=0;if(ie!==-1){var Ce=y.substring(d+1,ie);Ce&&Ce.trim()===""&&(ke=Ce.length)}return ke}function fe(ie){return ee||(ie===void 0&&(ie=y.substring(b)),_.push(ie),b=g,Q(_),H&&Ee()),se()}function be(ie){b=ie,Q(_),_=[],J=y.indexOf(h,b)}function se(ie){return{data:G,errors:Y,meta:{delimiter:s,linebreak:h,aborted:U,truncated:!!ie,cursor:A+(ge||0)}}}function Ee(){w(se()),G=[],Y=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return b}}function we(a){var i=a.data,s=p[i.workerId],h=!1;if(i.error)s.userError(i.error,i.file);else if(i.results&&i.results.data){var v={abort:function(){h=!0,ae(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ye,resume:ye};if(O(s.userStep)){for(var w=0;w<i.results.data.length&&(s.userStep({data:i.results.data[w],errors:i.results.errors,meta:i.results.meta},v),!h);w++);delete i.results}else O(s.userChunk)&&(s.userChunk(i.results,v,i.file),delete i.results)}i.finished&&!h&&ae(i.workerId,i.results)}function ae(a,i){var s=p[a];O(s.userComplete)&&s.userComplete(i),s.terminate(),delete p[a]}function ye(){throw new Error("Not implemented.")}function le(a){if(typeof a!="object"||a===null)return a;var i=Array.isArray(a)?[]:{};for(var s in a)i[s]=le(a[s]);return i}function ne(a,i){return function(){a.apply(i,arguments)}}function O(a){return typeof a=="function"}return l&&(n.onmessage=function(a){var i=a.data;if(u.WORKER_ID===void 0&&i&&(u.WORKER_ID=i.workerId),typeof i.input=="string")n.postMessage({workerId:u.WORKER_ID,results:u.parse(i.input,i.config),finished:!0});else if(n.File&&i.input instanceof File||i.input instanceof Object){var s=u.parse(i.input,i.config);s&&n.postMessage({workerId:u.WORKER_ID,results:s,finished:!0})}}),(F.prototype=Object.create(D.prototype)).constructor=F,(Z.prototype=Object.create(D.prototype)).constructor=Z,(j.prototype=Object.create(j.prototype)).constructor=j,(X.prototype=Object.create(D.prototype)).constructor=X,u})})(Lt);var bn=Lt.exports;const xn=vt(bn);function _n({extractedData:e,clearData:t}){const[r,n]=C.useState(!1),[o,l]=C.useState({}),[p,m]=C.useState(null),[u,E]=C.useState(e);C.useEffect(()=>{E(e)},[e]);const D=j=>{n(!0),l({...u[j]}),m(j)},F=()=>{const j=[...u];j[p]=o,E(j),n(!1)},Z=async()=>{ve.fire({title:"Are you sure?",text:"Please verify that you have properly reviewed the contents before submitting.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(async j=>{if(j.isConfirmed){const X=u.map(S=>({first_name:S["first name"],last_name:S["last name"],email:S.email,organization_name:S.organization,phone_number:S["phone number"]}));try{const S=await tt.post("contacts/import-contacts",{data:X});ve.fire({icon:"success",title:"Success!",text:"Data submitted successfully."}).then(()=>{t(),E([])})}catch(S){console.log("error",S),ve.fire({icon:"error",title:"Error!",text:"Failed to submit data. Please try again."})}}})};return c.jsxs("div",{className:" m-auto",children:[c.jsxs("div",{className:"overflow-x-auto flex flex-col justify-center items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-left self-start",children:"CSV File Fields"}),c.jsx("span",{className:"text-base self-start mb-4",children:"(Verify the contents of the file before final submission)"}),c.jsxs(ce,{striped:!0,children:[c.jsxs(ce.Head,{title:"Verify the content of the .csv file then scroll to the buttom to confirm submission.",children:[c.jsx(ce.HeadCell,{children:"first name"}),c.jsx(ce.HeadCell,{children:"last name"}),c.jsx(ce.HeadCell,{children:"email"}),c.jsx(ce.HeadCell,{children:"organization"}),c.jsx(ce.HeadCell,{children:"phone number"}),c.jsx(ce.HeadCell,{children:c.jsx("span",{className:"sr-only",children:"Edit"})})]}),c.jsx(ce.Body,{className:"divide-y",children:u.map((j,X)=>c.jsxs(ce.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[c.jsx(ce.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:j["first name"]}),c.jsx(ce.Cell,{children:j["last name"]}),c.jsx(ce.Cell,{children:j.email}),c.jsx(ce.Cell,{children:j.organization}),c.jsx(ce.Cell,{children:j["phone number"]}),c.jsx(ce.Cell,{children:c.jsx($e,{onClick:()=>D(X),className:"font-medium text-mansa-blue hover:underline p-0 m-0 border-0",children:"Edit"})})]},X))})]}),u.length!==0&&c.jsx("div",{className:" my-12",children:c.jsx(yt,{text:"Confirm Submission",onClick:Z,className:""})})]}),c.jsxs(ze,{dismissible:!0,show:r,onClose:()=>n(!1),children:[c.jsx(ze.Header,{children:"Edit Row Values"}),c.jsxs(ze.Body,{className:" flex flex-col gap-5",children:[c.jsx(Te,{title:"First Name",type:"text",value:o["first name"]||"",onChange:j=>l({...o,"first name":j.target.value})}),c.jsx(Te,{title:"Last Name",type:"text",value:o["last name"]||"",onChange:j=>l({...o,"last name":j.target.value})}),c.jsx(Te,{title:"Email",type:"text",value:o.email||"",onChange:j=>l({...o,email:j.target.value})}),c.jsx(Te,{title:"Organization",type:"text",value:o.organization||"",onChange:j=>l({...o,organization:j.target.value})}),c.jsx(Te,{title:"Phone Number",type:"text",value:o["phone number"]||"",onChange:j=>l({...o,"phone number":j.target.value})})]}),c.jsxs(ze.Footer,{className:" flex justify-between mx-10",children:[c.jsx($e,{className:" bg-mansa-blue text-white w-40 font-bold",onClick:F,children:"Save"}),c.jsx($e,{className:" bg-red-500 text-white w-40 font-bold",onClick:()=>n(!1),children:"Cancel"})]})]})]})}const wn="/assets/sampleCsv-BnpApU4p.png";function En(){const e=async()=>{try{const t="template",r=Fe.types.csv;Fe({data:jn,fileName:t,exportType:r}),ve.fire({icon:"success",title:"Success!",text:"Template downloaded successfully."})}catch(t){console.log(t),ve.fire({icon:"error",title:"Export Error!",text:"Failed to download template. Please try again."})}};return c.jsxs("div",{className:" flex flex-col gap-2 items-center",children:[c.jsx("span",{className:"text-2xl font-bold mb-4",children:"Download Template CSV"}),c.jsxs($t,{onClick:e,className:" flex items-center gap-5 w-fit",children:[c.jsx(Jt,{}),c.jsx("p",{className:" font-bold",children:"Download Template"})]}),c.jsx("span",{className:"text-sm",children:"(Use this template to ensure correct formatting)"})]})}const jn=[{"First Name":"Olivia","Last Name":"Parker",Email:"olivia.parker@brightpath.com",Organization:"BrightPath Solutions","Phone Number":"1 (555) 123-4567"},{"First Name":"Ethan","Last Name":"Reynolds",Email:"ethan.reynolds@technova.com",Organization:"TechNova Inc.","Phone Number":"1 (555) 987-6543"},{"First Name":"Sophia","Last Name":"Nguyen",Email:"sophia.nguyen@stellarinnovations.co",Organization:"Stellar Innovations","Phone Number":"1 (555) 456-7890"},{"First Name":"Jackson","Last Name":"Martinez",Email:"jackson.martinez@globaltechsolutions.com",Organization:"GlobalTech Solutions","Phone Number":"1 (555) 789-0123"},{"First Name":"Ava","Last Name":"Murphy",Email:"ava.murphy@nexusdynamics.io",Organization:"Nexus Dynamics","Phone Number":"1 (555) 234-5678"},{"First Name":"Liam","Last Name":"Johnson",Email:"liam.johnson@innovatenowlabs.com",Organization:"InnovateNow Labs","Phone Number":"1 (555) 876-5432"},{"First Name":"Emma","Last Name":"Smith",Email:"emma.smith@quantumtechnologies.net",Organization:"Quantum Technologies","Phone Number":"1 (555) 345-6789"},{"First Name":"Noah","Last Name":"Brown",Email:"noah.brown@alphatechsolutions.org",Organization:"AlphaTech Solutions","Phone Number":"1 (555) 901-2345"},{"First Name":"Isabella","Last Name":"Jones",Email:"isabella.jones@visionaryventures.biz",Organization:"Visionary Ventures","Phone Number":"1 (555) 432-1098"},{"First Name":"Mason","Last Name":"Davis",Email:"mason.davis@apexinnovations.com",Organization:"Apex Innovations","Phone Number":"1 (555) 678-9012"}],gt=["first name","last name","email","phone number","organization"];function Cn(){C.useState(null);const[e,t]=C.useState([]),{acceptedFiles:r,fileRejections:n,getRootProps:o,getInputProps:l,isFocused:p,isDragAccept:m,isDragReject:u}=Pt({accept:{"text/csv":[".csv"]},maxFiles:1}),E=C.useMemo(()=>({...mn,...p?gn:{},...m?vn:{},...u?yn:{}}),[p,m,u]);function D(){n.length>0&&ve.fire({icon:"error",title:"Invalid File Format!",text:`'${n[0].file.path}' is not in .csv format.`})}const F=async()=>{if(r.length>0){const Z=r[0],j=new FileReader;j.readAsText(Z),j.onload=async()=>{const X=j.result;try{const S=xn.parse(X,{header:!1,skipEmptyLines:!0,dynamicTyping:!0});if(S.data[0]===null){ve.fire({icon:"error",title:"Error!",text:"CSV file does not contain a header row."});return}const xe=S.data[0].map(ae=>ae?ae.trim().toLowerCase():"");if(xe.some(ae=>gt.includes(ae))){const ae=S.data.slice(1).filter(ye=>ye.some(le=>le!==null&&le!=="")).map(ye=>{const le={};return xe.forEach((ne,O)=>{gt.includes(ne)&&(le[ne]=ye[O])}),le});t(ae),ve.fire({icon:"success",title:"Success!",text:"The file was uploaded successfully. Please verify the contents below before final submission."})}else ve.fire({icon:"error",title:"Error!",text:"CSV file does not contain any of the required fields."})}catch(S){console.error("Error parsing CSV:",S),ve.fire({icon:"error",title:"Error!",text:"An error occurred while parsing the CSV file. Please try again."})}}}};return C.useEffect(()=>{F(),D()},[r,n]),c.jsxs("div",{className:"px-3 flex flex-col my-5 w-full justify-center items-center overflow-x-auto",children:[c.jsx("section",{className:"container w-[80%] max-md:w-full mb-10",children:c.jsxs("div",{...o({style:E}),children:[c.jsx("input",{...l()}),c.jsx(Gt,{size:40}),c.jsxs("div",{className:" flex flex-col gap-2",children:[c.jsxs("p",{className:"text-lg text-center",children:["Drag and drop file to upload, or ",c.jsx("span",{className:"text-mansa-blue underline cursor-pointer",children:"browse"})]}),c.jsx("em",{className:"text-base text-center",children:"(Only *.csv file will be accepted)"}),c.jsx("em",{className:"text-sm text-center",children:"(Required fields: First Name, Last Name, Email, Phone Number, Organization)"})]})]})}),e.length===0&&c.jsx(En,{}),e.length===0?c.jsxs("div",{className:"w-full my-10",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-left self-start",children:"Sample CSV File"}),c.jsx("img",{src:wn})]}):c.jsx(_n,{extractedData:e,clearData:()=>{t([]),r.pop()}})]})}function Dn(){return c.jsx("div",{className:"",children:c.jsxs(qe,{"aria-label":"Full width tabs",style:"fullWidth",className:" bg-light-grey",children:[c.jsx(qe.Item,{active:!0,title:"Contacts",icon:Vt,children:c.jsx(hr,{})}),c.jsx(qe.Item,{title:"Import Contacts",icon:mr,children:c.jsx(Cn,{})})]})})}function In(){const e=Bt(),{isAuthenticated:t}=Ht();return C.useEffect(()=>{t||e("/auth/login")},[t,e]),c.jsxs("div",{className:"h-screen w-full text-dark-blue",children:[c.jsx("div",{className:" sticky top-0 w-full z-50",children:c.jsx(Wt,{})}),c.jsxs("div",{className:" flex h-screen w-full",children:[c.jsx("div",{className:"",children:c.jsx(Kt,{})}),c.jsx("div",{className:" w-full overflow-y-auto overflow-x-hidden",children:c.jsx(Dn,{})})]})]})}export{In as default};
